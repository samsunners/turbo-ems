;-------------------------------------------------------------------------------
#unset CAN_COMMANDS
#unset enablehardware_test

[MegaTune]
   MTversion      = 2.25

   queryCommand   = "Q"
   signature      = "speeduino 201903-dev"
   versionInfo    = "S" ;This info is what is displayed to user

[TunerStudio]
   iniSpecVersion = 3.51

;-------------------------------------------------------------------------------

[SettingGroups]
   ; the referenceName will over-ride previous, so if you are creating a
   ; settingGroup with a reference name of lambdaSensor, it will replace the
   ; setting group defined in the settingGroups.xml of the TunerStudio config
   ; folder. If is is an undefined referenceName, it will be added.
   ; keyword    =  referenceName,  DisplayName

    ;settingGroup = boostUnits, "Boost table units"
    ;settingOption = DEFAULT, "kPa"
    ;settingOption = BOOSTPSI, "PSI"
    settingGroup = enablehardware_test, "Enable Hardware Test Page"

    settingGroup = resetcontrol_group, "Reset Control Features"
    settingOption = resetcontrol_standard, "Basic Options Only"
    settingOption = resetcontrol_adv, "Advanced Features (16u2 Firmware Update Required)"

[PcVariables]
   ; valid types: boolean, double, int, list
   ;
   ; no offset as they are local variables.
   ; entry format the same as Constants, except there is no offset.
   ; arrays are not yet supported.
   ; name = class,  type,    shape,  units,       scale, translate,    lo,      hi, digits
   ; name = type, min, max;
   ;
   ; type List: value will be index.
    tsCanId        	= bits,   	U08,   [0:3], "CAN ID 0", "CAN ID 1", "CAN ID 2", "CAN ID 3", "CAN ID 4", "CAN ID 5", "CAN ID 6", "CAN ID 7", "CAN ID 8", "CAN ID 9", "CAN ID 10","CAN ID 11","CAN ID 12","CAN ID 13","CAN ID 14","INVALID"
    rpmhigh = scalar,   U16,    "rpm", 1, 0, 0, 30000, 0
    rpmwarn = scalar,   U16,    "rpm", 1, 0, 0, 30000, 0
    rpmdang = scalar,   U16,    "rpm", 1, 0, 0, 30000, 0

    idleUnits = bits,   U08,    [0:2], "None", "On/Off", "Duty Cycle", "Duty Cycle", "Steps", "Steps"


    #define loadSourceNames = "MAP", "TPS", "IMAP/EMAP", "INVALID",   "INVALID", "INVALID", "INVALID", "INVALID"
    #define loadSourceUnits = "kPa",           "% TPS",   "%",         "INVALID", "INVALID", "INVALID", "INVALID", "INVALID"
    algorithmNames = bits,    U08,   [0:2], $loadSourceNames
    ;algorithmUnits = bits,    U08,   [0:2], $loadSourceUnits
    algorithmUnits = bits,    U08,   [0:2], "kPa",           "% TPS",   "%",         "% TPS", "INVALID", "INVALID", "INVALID", "INVALID"
    algorithmLimits= array,   U16,   [8],   "", 1.0, 0, 0, 511, 0, noMsqSave
    #define all_IO_Pins     = "Board Default", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "INVALID"
    #define IO_Pins_no_def  = "INVALID", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "INVALID"

    boostTableLabels = bits,    U08,   [0:1], "Duty Cycle %", "kPa"

    fuelLoadMax    = scalar, U08, "", 1, 0, 0, 511, 0
    ignLoadMax     = scalar, U08, "", 1, 0, 0, 511, 0
	AUXin00Alias  = string, ASCII, 20
	AUXin01Alias  = string, ASCII, 20 
    AUXin02Alias  = string, ASCII, 20 
    AUXin03Alias  = string, ASCII, 20 
    AUXin04Alias  = string, ASCII, 20 
    AUXin05Alias  = string, ASCII, 20 
    AUXin06Alias  = string, ASCII, 20 
    AUXin07Alias  = string, ASCII, 20 
    AUXin08Alias  = string, ASCII, 20 
    AUXin09Alias  = string, ASCII, 20 
    AUXin10Alias  = string, ASCII, 20 
    AUXin11Alias  = string, ASCII, 20 
    AUXin12Alias  = string, ASCII, 20 
    AUXin13Alias  = string, ASCII, 20 
    AUXin14Alias  = string, ASCII, 20 
    AUXin15Alias  = string, ASCII, 20

    ;Define aliases for all the triggers. Naming pattern matches that used in decoders.ino
    #define trigger_missingTooth        = 0
    #define trigger_BasicDistributor    = 1
    #define trigger_DualWheel           = 2
    #define trigger_GM7X                = 3
    #define trigger_4G63                = 4
    #define trigger_24X                 = 5
    #define trigger_Jeep2000            = 6
    #define trigger_Audi135             = 7
    #define trigger_HondaD17            = 8
    #define trigger_Miata9905           = 9
    #define trigger_MazdaAU             = 10
    #define trigger_non360              = 11
    #define trigger_Nissan360           = 12
    #define trigger_Subaru67            = 13
    #define trigger_Daihatsu            = 14
    #define trigger_Harley              = 15
    #define trigger_ThirtySixMinus222   = 16
    

[Constants]

   ;----------------------------------------------------------------------------
   ; Constants Definition
   ; --------------------
   ;
   ; Scalar Values
   ; -------------
   ; The scaling and translation values are used as follows:
   ;    msValue   = userValue / scale - translate
   ;    userValue = (msValue + translate) * scale
   ;
   ;
   ; Temperatures are fine, check out the Fielding IAC example (fastIdleT).
   ;
   ; Array Values
   ; ------------
   ; Arrays are specified just like scalars, except that they have a "shape"
   ; entry in the fourth parameter.  The shape allows you to define lists or
   ; tables, for example [8] defines a list with eight values and [2x4] defines
   ; a table with eight values (two rows and four columns).  Tables may be
   ; stored in either "X-" or "Y-order."  X-order means that memory is layed
   ; out like.
   ;
   ;     [x1,y1] [x2,y1]...[xn,y1] [x1,y2]...
   ;
   ; Y-order would be
   ;
   ;     [x1,y1] [x1,y2]...[x1,yn] [x2,y1]...
   ;
   ; To use the TableEditor, you must define two lists and a table, and
   ; the lengths of the lists must correspond to the shape of the table.
   ;
   ; Bit Fields
   ; ----------
   ; Bits are numbered 0-7, the rightmost being bit zero.  The basic
   ; data word that stores bit fields must be unsigned.
   ;
   ; You need NOT supply the correct number of labels matching the
   ; number of bits you've specified (one bit requires 2 values, two
   ; bits requires 4 values and so on).  If you neglect to supply enough
   ; labels, they will be synthesized using the sequence "1", "2" and so
   ; on based upon their position in the sequence (the cltType and matType
   ; will end up with identical lists).
   ;
   ; If you specify a label as "INVALID" (all upper case), then it will
   ; not be displayed in the combo box, so you can leave out values that
   ; make no sense.
   ;
   ;----------------------------------------------------------------------------

    endianness          = little
    nPages              = 10
    ;pageSize            = 288,   128,     288,    128,     288,    128,    240,     192,    192,    192
    pageSize            = 128,   288,     288,    128,     288,    128,    240,     192,    192,    192

    ;burnCommand         = "B"
    ;pageActivate        = "P\001",   "P\002", "P\003", "P\004", "P\005", "P\006", "P\007", "P\010", "P\011", "P\012", "P\013"
    ;pageReadCommand     = "V",       "V",     "V",     "V",     "V",     "V",     "V",     "V",      "V",    "V",    "V"
    ;pageValueWrite      = "W%2o%v",   "W%o%v", "W%2o%v", "W%o%v", "W%2o%v", "W%o%v", "W%o%v", "W%o%v", "W%o%v",	"W%o%v",	"W%o%v"

    ; New commands
    ;pageSize            = 288,   128,     288,    128,     288,    128,     128,    160,     192,    192,    192
    pageIdentifier      = "\$tsCanId\x01", "\$tsCanId\x02", "\$tsCanId\x03", "\$tsCanId\x04", "\$tsCanId\x05", "\$tsCanId\x06", "\$tsCanId\x07", "\$tsCanId\x08", "\$tsCanId\x09", "\$tsCanId\x0A"
    burnCommand         = "b%2i", "b%2i", "b%2i", "b%2i", "b%2i", "b%2i", "b%2i", "b%2i", "b%2i", "b%2i"
    pageReadCommand     = "p%2i%2o%2c", "p%2i%2o%2c", "p%2i%2o%2c", "p%2i%2o%2c", "p%2i%2o%2c", "p%2i%2o%2c", "p%2i%2o%2c", "p%2i%2o%2c", "p%2i%2o%2c", "p%2i%2o%2c"
    pageValueWrite      = "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v"
    pageChunkWrite      = "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v", "w%2i%2o%2c%v"
    crc32CheckCommand   = "d%2i", "d%2i", "d%2i", "d%2i", "d%2i", "d%2i", "d%2i", "d%2i", "d%2i", "d%2i"

    blockingFactor = 2048
    tableBlockingFactor = 2048
    delayAfterPortOpen=1000
    ;validateArrayBounds = true
    blockReadTimeout = 2000
    ;tsWriteBlocks = on
    interWriteDelay = 5 ;Ignored when tsWriteBlocks is on
    pageActivationDelay = 10

;--------------------------------------------------
;Start Page 1
;Page 1 is all general settings. Note that some of these (algorithm and ignAlgorithm) MUST come before their use in the bitStringValue() calls in the fuel and ignition tables
;--------------------------------------------------
page = 1
      unused2-1     = scalar, S08,       0,         "kPa",      1.0,       0.0,   -127,    127,       0
      unused2-2     = scalar, U08,       1,         "kPa",      1.0,       0.0,   0.0,    255,       0
      asePct        = scalar, U08,       2,         "%",        1.0,       0.0,   0.0,    95.0,      0
      aseCount      = scalar, U08,       3,         "s",        1.0,       0.0,   0.0,    255,       0
      wueRates      = array,  U08,       4, [10],   "%",        1.0,       0.0,   0.0,    255,      0
      crankingPct   = scalar, U08,      14,         "%",        1.0,       0.0,   0.0,    255,       0
;      pinLayout     = bits,   U08,      15, [0:7],  "Speeduino v0.1", "Speeduino v0.2", "Speeduino v0.3", "Speeduino v0.4", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "NA6 MX5 PNP", "Turtana PCB", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "Plazomat I/O 0.1", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "Daz V6 Shield 0.1", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "NO2C", "UA4C", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "dvjcodec Teensy RevA", "dvjcodec Teensy RevB", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID"
      tachoPin      = bits,   U08,      16, [0:5],  "Board Default", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID"
      tachoDiv      = bits,   U08,      16, [6:7],  "Normal", "Half", "INVALID", "INVALID"
      tachoDuration = scalar, U08,      17,         "ms",       1.0,       0.0,   1.0,    6.0,       0
      unused2-18    = scalar, U08,      18,         "ms",       0.1,       0.0,   0.0,    25.5,      1
      tpsThresh     = scalar, U08,      19,         "%/s",      1.0,       0.0,   0.0,    255,       0
      taeTime       = scalar, U08,      20,         "ms",        10,       0.0,   0.0,    2550,      0

      ; Display (Options for what the display is showing)
      display       = bits,   U08,      21, [0:2],  "Unused", "Adafruit 128x32", "Generic 128x32", "Adafruit 128x64", "Generic 128x64", "INVALID", "INVALID", "INVALID"
      display1      = bits    U08,      21, [3:5],  "RPM", "PW", "Advance", "VE", "GammaE", "TPS", "IAT", "CLT"
      display2      = bits    U08,      21, [6:7],  "O2", "Voltage", "CPU", "Mem"

      display3      = bits    U08,      22, [0:2],  "RPM", "PW", "Advance", "VE", "GammaE", "TPS", "IAT", "CLT"
      display4      = bits    U08,      22, [3:4],  "O2", "Voltage", "CPU", "Mem"
      display5      = bits    U08,      22, [5:7],  "RPM", "PW", "Advance", "VE", "GammaE", "TPS", "IAT", "CLT"

      displayB1     = bits    U08,      23, [0:3],  "RPM", "PW", "Advance", "VE", "GammaE", "TPS", "IAT", "CLT"
      displayB2     = bits    U08,      23, [4:7],  "RPM", "PW", "Advance", "VE", "GammaE", "TPS", "IAT", "CLT"

      reqFuel       = scalar, U08,      24,        "ms",        0.1,       0.0,   0.0,    25.5,      1
      divider       = scalar, U08,      25,        "",          1.0,       0.0
      alternate     = bits,   U08,      26, [0:0], "Simultaneous", "Alternating"
      multiplyMAP   = bits,   U08,      26, [1:1], "No",       "Yes"
      includeAFR    = bits,   U08,      26, [2:2], "No",       "Yes"
      hardCutType   = bits,   U08,      26, [3:3], "Full",      "Rolling"
      ignAlgorithm  = bits,   U08,      26, [4:6], $loadSourceNames
      indInjAng     = bits,   U08,      26, [7:7], "Disabled", "Enabled"
      injOpen       = scalar, U08,      27,        "ms",        0.1,       0.0,   0.1,    25.5,      1
      inj1Ang       = scalar, U16,      28,        "deg",       1.0,       0.0,   0.0,    360,       0
      inj2Ang       = scalar, U16,      30,        "deg",       1.0,       0.0,   0.0,    360,       0
      inj3Ang       = scalar, U16,      32,        "deg",       1.0,       0.0,   0.0,    360,       0
      inj4Ang       = scalar, U16,      34,        "deg",       1.0,       0.0,   0.0,    360,       0

      ; Config1
      mapSample     = bits,   U08,      36, [0:1], "Instantaneous", "Cycle Average", "Cycle Minimum", "INVALID"
      twoStroke     = bits,   U08,      36, [2:2], "Four-stroke", "Two-stroke"
      injType       = bits,   U08,      36, [3:3], "Port", "Throttle Body"
      nCylinders    = bits,   U08,      36, [4:7], "INVALID","1","2","3","4","5","6","INVALID","8","INVALID","INVALID","INVALID","INVALID","INVALID","INVALID","INVALID"

      ; Config2
      algorithm     = bits,   U08,      37, [0:2], $loadSourceNames ;Has to be called algorithm for the req fuel calculator to work :(
      fixAngEnable  = bits,   U08,      37, [3:3], "Off", "On"
      nInjectors    = bits,   U08,      37, [4:7], "INVALID","1","2","3","4","5","6","INVALID","8","INVALID","INVALID","INVALID","INVALID","INVALID","INVALID","INVALID"

      ; Config3
      engineType    = bits,   U08,      38, [0:0], "Even fire",     "Odd fire"
      flexEnabled   = bits,   U08,      38, [1:1], "Off", "On"
      unused2_38c   = bits,   U08,      38, [2:2], "Speed Density", "Alpha-N"
      baroCorr      = bits,   U08,      38, [3:3], "Off",           "On"
      injLayout     = bits,   U08,      38, [4:5], "Paired", "Semi-Sequential", "INVALID", "Sequential"
      perToothIgn   = bits,   U08,      38, [6:6], "No", "Yes"
      dfcoEnabled   = bits,   U08,      38, [7:7], "Off",       "On"

      primePulse    = scalar, U08,      39,        "ms",        0.1,       0.0,   0.0,     25.5,     1
      dutyLim       = scalar, U08,      40,        "%",         1.0,       0.0,   0.0,     95.0,     0
      flexFreqLow   = scalar, U08,      41,        "Hz",        1.0,       0.0,   0.0,     250.0,    0
      flexFreqHigh  = scalar, U08,      42,        "Hz",        1.0,       0.0,   0.0,     250.0,    0

      boostMaxDuty  = scalar, U08,      43,        "%",         1.0,       0.0,   0.0,     100.0,    0
      tpsMin        = scalar, U08,      44,        "ADC",       1.0,       0.0,   0.0,     255.0,    0
      tpsMax        = scalar, U08,      45,        "ADC",       1.0,       0.0,   0.0,     255.0,    0
      mapMin        = scalar, S08,      46,        "kpa",       1.0,       0.0,  -100,     127.0,    0
      mapMax        = scalar, U16,      47,        "kpa",       1.0,       0.0,   0.0,     25500,    0
      fpPrime       = scalar, U08,      49,        "s",         1.0,       0.0,   0.0,     255.0,    0
      stoich        = scalar, U08,      50,        ":1",        0.1,       0.0,   0.0,     25.5,     1
      oddfire2      = scalar, U16,      51,        "deg",       1.0,       0.0,   0.0,     720,      0 ; * (  2 byte)
      oddfire3      = scalar, U16,      53,        "deg",       1.0,       0.0,   0.0,     720,      0 ; * (  2 byte)
      oddfire4      = scalar, U16,      55,        "deg",       1.0,       0.0,   0.0,     720,      0 ; * (  2 byte)

      idleUpPin     = bits,   U08,      57, [0:5], "Board Default", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "INVALID"
      idleUpPolarity= bits,   U08,      57, [6:6], "Normal", "Inverted"
      idleUpEnabled = bits,   U08,      57, [7:7], "Off", "On"
      idleUpAdder   = scalar, U08,      58,        "% / Steps"  1.0,       0.0,   0.0,     250.0,    0
      taeTaperMin   = scalar, U08,      59,        "RPM",       100,       0.0,   1000,    10000,    0
      taeTaperMax   = scalar, U08,      60,        "RPM",       100,       0.0,   2000,    10000,    0

      iacCLminDuty  = scalar, U08,      61,        "%",         1.0,       0.0,   0.0,     100.0,    0 ; Minimum and maximum duty cycles when using closed loop idle
      iacCLmaxDuty  = scalar, U08,      62,        "%",         1.0,       0.0,   0.0,     100.0,    0
      boostMinDuty  = scalar, U08,      63,        "%",         1.0,       0.0,   0.0,     100.0,    0 ; Minimum and maximum duty cycles for boost control

      baroMin       = scalar, S08,      64,        "kpa",       1.0,       0.0,  -100,     127.0,    0
      baroMax       = scalar, U16,      65,        "kpa",       1.0,       0.0,   0.0,     25500,    0
      EMAPMin       = scalar, S08,      67,        "kpa",       1.0,       0.0,  -100,     127.0,    0
      EMAPMax       = scalar, U16,      68,        "kpa",       1.0,       0.0,   0.0,     25500,    0

      fanWhenOff   = bits,   U08,     70, [0:0], "No",        "Yes" 
      unused_fan_bits = bits,  U08,    70,[1:7]

      unused2-67    = array,  U08,      71, [56],   "%",        1.0,       0.0,   0.0,     255,      0

;Page 2 is the fuel map and axis bins only
page = 2
   ;  name       = bits,   type,    offset, bits
   ;  name       = array,  type,    offset, shape, units,     scale, translate,    lo,      hi, digits
   ;  name       = scalar, type,    offset,        units,     scale, translate,    lo,      hi, digits
      veTable    = array,  U08,       0, [16x16],"%",          1.0,      0.0,   0.0,   255.0,      0
      rpmBins    = array,  U08,     256, [  16], "RPM",      100.0,      0.0,   100.0, 25500.0,      0
      fuelLoadBins = array,  U08,   272, [  16], { bitStringValue(algorithmUnits ,  algorithm) },        2.0,      0.0,   0.0,   {fuelLoadMax},      0
      ;fuelLoadBins = array,  U08,   272, [  16], { bitStringValue(algorithmUnits ,  algorithm) },        2.0,      0.0,   0.0,   { arrayValue(rpmBins , algorithm) },      0

;--------------------------------------------------
;Start Ignition table (Page 3)
;--------------------------------------------------
page = 3
      advTable1  = array,  U08,     0,[16x16],  "deg",       1.0,       -40,   -40,   215.0,      0
      rpmBins2   = array,  U08,   256,[   16],  "RPM",       100.0,     0.0,   100,   25500,      0
      mapBins1= array,  U08,   272, [  16], { bitStringValue(algorithmUnits ,  ignAlgorithm) },        2.0,      0.0,   0.0,   {ignLoadMax},      0 ; This name has to be used in order for the table to show up in MLVs table. I can't find the regexs that make this work :(

;--------------------------------------------------
;Start Page 4
;These are primarily ignition related settings (Previously part of page 2)
;--------------------------------------------------
page = 4
      TrigAng    = scalar, S16,      0,         "Deg",       1,        0,     -360,     360,        0
      FixAng     = scalar, S08,      2,         "Deg",       1,        0,     -64,      64,         0 ; Allow negative values here
      CrankAng   = scalar, U08,      3,         "Deg",       1,        0,     -10,      80,         0
      TrigAngMul = scalar, U08,      4,         "",          1,        0,     0,        88,         0 ; Multiplier for tooth counts that don't evenly divide into 360
      TrigEdge   = bits,   U08,      5,[0:0],    "RISING", "FALLING"
      TrigSpeed  = bits,   U08,      5,[1:1],    "Crank Speed", "Cam Speed"
      IgInv      = bits,   U08,      5,[2:2],    "Going Low",        "Going High"
      TrigPattern= bits,   U08,      5,[3:7],    "Missing Tooth", "Basic Distributor", "Dual Wheel", "GM 7X", "4G63 / Miata / 3000GT", "GM 24X", "Jeep 2000", "Audi 135", "Honda D17", "Miata 99-05", "Mazda AU", "Non-360 Dual", "Nissan 360", "Subaru 6/7", "Daihatsu +1", "Harley EVO", "36-2-2-2", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID"
      TrigEdgeSec= bits,   U08,      6,[0:0],    "RISING", "FALLING"
      fuelPumpPin= bits  , U08,      6,[1:6],    "Board Default", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "INVALID"
      useResync  = bits,   U08,      6,[7:7],    "No",        "Yes"
      sparkDur   = scalar, U08,      7,          "ms",        0.1, 0, 0, 25.5, 1 ; Spark duration
      trigPatternSec = bits,   U08,      8,[0:7],    "Single tooth cam", "4-1 cam", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID"

;Reset Control
      bootloaderCaps  = scalar, U08, 9,        "level",    1, 0, 0, 255, 0
      resetControl =    bits,   U08, 10,[0:1], "Disabled", "INVALID", "INVALID", "Serial Command"
      resetControlPin = bits,   U08, 10,[2:7],  "Board Default", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "INVALID"

      SkipCycles  = scalar, U08,     11,         "cycles",    1,    0,    0,  255, 0

   ;  name       = array,  type,    offset, shape, units,     scale, translate,    lo,      hi, digits
   ;  name       = scalar, type,    offset,      units,     scale, translate,    lo,      hi, digits
;Dwell control
      boostType     = bits,   U08,     12, [0:0],  "Open Loop",  "Closed Loop"
      useDwellLim   = bits,   U08,		 12, [1:1],	 "Off",		"On"
      sparkMode     = bits,   U08,     12, [2:4],  "Wasted Spark", "Single Channel",   "Wasted COP", "Sequential", "Rotary", "INVALID", "INVALID", "INVALID"
      TrigFilter    = bits,   U08,     12, [5:6],  "Off", "Weak", "Medium", "Aggressive"
      ignCranklock  = bits,   U08,     12, [7:7],  "Off",  "On"
      dwellcrank    = scalar, U08,     13,         "ms",       0.1,    0,    0, 25, 1
      dwellrun      = scalar, U08,     14,         "ms",       0.1,    0,    0, 8, 1 ;running dwell variable railed to 8 - who needs more than 8ms?
      numTeeth      = scalar, U08,     15,         "teeth",    1.0,    0.0,  0.0,     255,       0
      missingTeeth  = scalar, U08,     16,         "teeth",    1.0,    0.0,  0.0,     255,       0

      crankRPM      = scalar, U08,     17,         "rpm",      10,    0.0,  100, 1000, 0
      tpsflood      = scalar, U08,     18,         "%",        1.0,    0.0,  0.0,   255.0,      0

;Rev Limits
      SoftRevLim    = scalar, U08,  19,         "rpm",      100,    0.0,  100, 25500, 0
      SoftLimRetard = scalar, U08,  20,         "deg",      1.0,    0.0,  0.0,   80,   0
      SoftLimMax    = scalar, U08,  21,         "s",        0.1,    0.0,  0.0,  25.5,   1
      HardRevLim    = scalar, U08,  22,         "rpm",      100,    0.0, 100, 25500,  0

;TPS based acceleration enrichment
      taeBins    = array,  U08,     23, [ 4],   "%/s",      10.0,   0.0,  0.00,   2550.0,      0
      taeRates   = array,  U08,     27, [ 4],   "%",        1.0,    0.0,  0.00, 255.0,      0 ; 4 bytes
;WUE Bins (Needed somewhere to put these
      wueBins    = array,  U08,     31, [10],   "C",        1.0, -40,  -40,  102.0,      0
;Dwell config options
      dwellLim   = scalar, U08,     41,         "ms",       1,      0,        0, 32, 0
      dwellRates = array,  U08,     42, [6],    "%",        1.0,    0.0,      0.00,   255.0,      0

;IAT (Inlet air temp) timing retard
      iatRetBins   = array,  U08,     48, [ 6],   "C",      1.0,    0.0,  0.00,   255.0,      0
      iatRetRates  = array,  U08,     54, [ 6],   "deg",    1.0,    0.0,  0.00,   255.0,      0
;Decelleration Fuel Cut Off (DFCO)
      dfcoRPM      = scalar, U08,      60,        "RPM",      10.0,  0.0,   100,     2550,    0
      dfcoHyster   = scalar, U08,      61,        "RPM",      1.0,  0.0,   100,     255.0,    0
      dfcoTPSThresh= scalar, U08,      62,        "%",        1.0,  0.0,   0,     100.0,    0
;Cranking ignition bypass
        ignBypassEnable = bits,   U08,		63, [0:0],      "Off",        "On"
        ignBypassPin    = bits  , U08,      63, [1:6],      "INVALID", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID"
        ignBypassHiLo   = bits,   U08,		63, [7:7],      "LOW",        "HIGH"
;Analog input filter levels (Note max values are 254 so that default values of 255 can be overwirtten on bootup)
        ADCFILTER_TPS   = scalar, U08,      64, "%",          1.0,  0.0,   0,     240,    0
        ADCFILTER_CLT   = scalar, U08,      65, "%",          1.0,  0.0,   0,     240,    0
        ADCFILTER_IAT   = scalar, U08,      66, "%",          1.0,  0.0,   0,     240,    0
        ADCFILTER_O2    = scalar, U08,      67, "%",          1.0,  0.0,   0,     240,    0
        ADCFILTER_BAT   = scalar, U08,      68, "%",          1.0,  0.0,   0,     240,    0
        ADCFILTER_MAP   = scalar, U08,      69, "%",          1.0,  0.0,   0,     240,    0
        ADCFILTER_BARO  = scalar, U08,      70, "%",          1.0,  0.0,   0,     240,    0

        unused4-64      = array,  U08,      71, [56],   "%",        1.0,       0.0,   0.0,     255,      0
;--------------------------------------------------
;Start AFR page
;--------------------------------------------------
page = 5
#if LAMBDA
        afrTable    = array,  U08,     0,[16x16], "Lambda",  { 0.1 / stoich },   0.0000,  0.00,    2.00,      3
#else
        afrTable    = array,  U08,     0,[16x16],    "AFR",      0.1,       0.0,   7,   25.5,      1
#endif

        rpmBinsAFR  = array,  U08,   256,[   16],    "RPM",   100.0,     0.0,   100,   25500,      0
    #if SPEED_DENSITY
        mapBinsAFR  = array,  U08,   272,[   16],    "kPa",   2.0,      0.0,   0.0,   511.0,      0
    #elif ALPHA_N
        tpsBinsAFR  = array,  U08,   272,[   16],    "TPS",   2.0,      0.0,   0.0,   100.0,      0
    #endif

;--------------------------------------------------
;Start page 6
; Page 6 is all settings associated with O2/AFR
;--------------------------------------------------
page = 6
        egoAlgorithm= bits  , U08,       0,      [0:1], "Simple", "INVALID", "PID", "No correction" ; * (  1 byte)
        egoType     = bits  , U08,       0,      [2:3], "Disabled", "Narrow Band", "Wide Band", "INVALID"                  ; egoOption
        boostEnabled= bits,   U08,       0,      [4:4], "Off", "On"
        vvtEnabled  = bits,   U08,       0,      [5:5], "Off", "On"
		boostCutType= bits,   U08,       0,      [6:7], "Off", "Spark Only", "Fuel Only","Both"
        egoKP       = scalar, U08,       1,             "%",        1.0,   0.0,  0.0,  200.0,      0 ; * (  1 byte)
        egoKI       = scalar, U08,       2,             "%",        1.0,   0.0,  0.0,  200.0,      0 ; * (  1 byte)
        egoKD       = scalar, U08,       3,             "%",        1.0,   0.0,  0.0,  200.0,      0 ; * (  1 byte)
        egoTemp    = scalar, U08,        4,             "C",        1.0, -40,  -40,  102.0,      0
        egoCount    = scalar, U08,       5,             "",         4.0,    0.0,  4.0,  255.0,      0 ; * (  1 byte)
        unused6-6   = scalar, U08,       6,             "%",        1.0,    0.0,  0.0,  255.0,      0
        egoLimit    = scalar, U08,       7,             "",         1,      0,    0,    16,         0
        ego_min     = scalar, U08,       8,             "AFR",      0.1,    0.0,  7,    25,         1
        ego_max     = scalar, U08,       9,             "AFR",      0.1,    0.0,  7,    25,         1
        ego_sdelay  = scalar, U08,      10,             "sec",      1,      0,    0,    120,        0
        egoRPM      = scalar, U08,      11,             "rpm",      100,    0.0,  100,  25500,      0
        egoTPSMax   = scalar, U08,      12,             "%",        1,      0,    0,    120,        0
        vvtPin      = bits  , U08,      13, [0:5],      "Board Default", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID"
        useExtBaro  =   bits, U08,      13, [6:6],      "No", "Yes"
        boostMode   =   bits, U08,      13, [7:7],      "Simple", "Full"
        boostPin    =   bits, U08,      14, [0:5],      "Board Default", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID"
        VVTasOnOff  =   bits, U08,      14, [6:6],      "No", "Yes"
        useEMAP     =   bits, U08,      14, [7:7],      "No", "Yes"
        brvBins     = array,  U08,      15, [6],        "V",        0.1,    0,    6,    24,         1 ; Bins for the battery reference voltage
        injBatRates = array,  U08,      21, [6],        "%",        1,      0,    0,    255,        0 ;Values for injector pulsewidth vs voltage
        airDenBins  = array,  U08,      27, [9],        "C",        1.0,    -40,  -40,  215,        0 ; Bins for the air density correction curve
        airDenRates = array,  U08,      36, [9],        "%",        1.0,    0.0,  0,    255,        0 ; Values for the air density correction curve

; PWM Frequencies
        boostFreq   = scalar, U08,      45,             "Hz",       2.0,    0.0,  10,   511,        0
        vvtFreq     = scalar, U08,      46,             "Hz",       2.0,    0.0,  10,   511,        0
        idleFreq    = scalar, U08,      47,             "Hz",       2.0,    0.0,  10,   511,        0

; Launch Control
        launchPin   = bits  , U08,      48, [0:5],      "Board Default", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID"
        launchEnable= bits,   U08,	  	48, [6:6],      "No",        "Yes"
        launchHiLo  = bits,   U08,		  48, [7:7],    "LOW",        "HIGH"

        lnchSoftLim = scalar, U08,      49,             "rpm",      100,    0.0,    100, 25500, 0
        lnchRetard  = scalar, S08,      50,             "deg",      1.0,    0.0,    -30,   40,   0
        lnchHardLim = scalar, U08,      51,             "rpm",      100,    0.0,    100, 25500,  0
        lnchFuelAdd = scalar, U08,      52,             "%",        1.0,    0.0,    0.0,   80,   0

        idleKP       = scalar, U08,     53,             "%",        1.0,   0.0,  0.0,  200.0,      0 ; * (  1 byte)
        idleKI       = scalar, U08,     54,             "%",        1.0,   0.0,  0.0,  200.0,      0 ; * (  1 byte)
        idleKD       = scalar, U08,     55,             "%",        1.0,   0.0,  0.0,  200.0,      0 ; * (  1 byte)
        boostLimit   = scalar, U08,     56,             "kPa",      2.0,   0.0,  0.0,  511.0,      0
        boostKP      = scalar, U08,     57,             "%",        1.0,   0.0,  0.0,  200.0,      0 ; * (  1 byte)
        boostKI      = scalar, U08,     58,             "%",        1.0,   0.0,  0.0,  200.0,      0 ; * (  1 byte)
        boostKD      = scalar, U08,     59,             "%",        1.0,   0.0,  0.0,  200.0,      0 ; * (  1 byte)

	    lnchPullRes  =   bits, U08,      60,        [0:1],      "Float"  , "Pullup", "INVALID", "INVALID"
        fuelTrimEnabled= bits, U08,      60,        [2:2],      "No",        "Yes"
        flatSEnable  =   bits, U08,      60,        [3:3],      "No",        "Yes"
; Baro Sensor pin
        baroPin      =   bits, U08,      60,        [4:7],      "A0", "A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A8", "A10", "A11", "A12", "A13", "A14", "A15"

; Flat shift
        flatSSoftWin = scalar, U08,      61,             "rpm",      100,    0.0,  100, 25500,  0
        flatSRetard  = scalar, U08,      62,             "deg",      1.0,    0.0,  0.0,   80,   0
        flatSArm     = scalar, U08,      63,             "rpm",      100,    0.0,  100, 25500,  0

        iacCLValues  = array, U08,       64, [10],        "RPM",    10.0,  0.0,      0,  2550,     0
        iacOLStepVal = array, U08,       74, [10],       "Steps",      3,    0,      0,		765,    0
        iacOLPWMVal  = array, U08,       84, [10],       "Duty %",   1.0,    0,      0,      100,    0
        iacBins      = array, U08,       94, [10],       "C",        1.0,    -40,    -40,    215,      0
        iacCrankSteps= array, U08,      104, [4],        "Steps",      3,    0,  	0,  	765,    0
        iacCrankDuty = array, U08,      108, [4],        "Duty %",   1.0,    0,  0,  100,    0
        iacCrankBins = array, U08,      112, [4],        "C",        1.0,    -40,    -40,    215,      0
        iacAlgorithm = bits , U08,      116, [0:2],      "None", "On/Off", "PWM Open loop", "PWM Closed loop", "Stepper Open Loop", "Stepper Closed Loop", "INVALID", "INVALID"
        iacStepTime  = bits , U08,      116, [3:5],      "INVALID","1", "2", "3", "4", "5", "6","INVALID"
        iacChannels  = bits,  U08,      116, [6:6],      "1", "2"
        iacPWMdir    = bits , U08,      116, [7:7],      "Normal", "Reverse"
        iacFastTemp  = scalar, U08,     117,             "C",        1.0,    -40,    -40,    215,      0
        iacStepHome  = scalar, U08,     118,             "Steps",     3,    0,  0,  765,    0
        iacStepHyster= scalar, U08,     119,             "Steps",         1,  0.0,  0.0,  10,   0

        ; Begin fan control vairables
        fanInv       = bits,   U08,     120, [0:0], "No",        "Yes"
        fanEnable    = bits,   U08,     120, [1:1], "Off",       "On/Off"
        fanPin       = bits,   U08,     120, [2:7], "Board Default", "INVALID", "INVALID", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "INVALID"
        fanSP        = scalar, U08,     121,        "C",        1.0,       -40,     -40,     215.0,    0
        fanHyster    = scalar, U08,     122,        "C",        1.0,       0.0,  0.0,     40,    0
        fanFreq      = scalar, U08 ,    123,        "Hz",        2.0,        0.0,    10,     511,       0
        fanPWMBins = array, U08,      124, [4],        "C",        1.0,    -40,    -40,    215,      0

;--------------------------------------------------
;Boost and vvt maps (Page 7)
;--------------------------------------------------
page = 7
        boostTable    = array,  U08,    0,[8x8],    { bitStringValue( boostTableLabels, boostType ) },        2.0,        0.0,   0,       boostTableLimit,      0
        rpmBinsBoost  = array,  U08,    64,[  8],   "RPM",      100.0,      0.0,   100,     25500,      0
        tpsBinsBoost  = array,  U08,    72,[  8],   "TPS",      1.0,        0.0,   0.0,     255.0,      0
        vvtTable      = array,  U08,    80,[8x8],    "%",        1.0,        0.0,   0,       100,      0
        rpmBinsVVT    = array,  U08,    144,[  8],   "RPM",      100.0,      0.0,   100,     25500,      0
        tpsBinsVVT    = array,  U08,    152,[  8],   "TPS",      1.0,        0.0,   0.0,     255.0,      0
;Fuel staging Table
        stagingTable  = array,  U08,    160, [8x8], "%",          1.0,      0.0,   0.0,   100.0,      0
        rpmBinsStaging= array,  U08,    224, [  8], "RPM",      100.0,      0.0,   100.0, 25500.0,      0
        #if SPEED_DENSITY
        mapBinsStaging= array,  U08,    232, [  8], "kPa",        2.0,      0.0,   0.0,   511.0,      0
        #elif ALPHA_N
        tpsBinsStaging= array,  U08,    232, [  8], "TPS",        2.0,      0.0,   0.0,   100.0,      0
        #endif

;--------------------------------------------------
;Sequential fuel trim tables (Page 8)
;--------------------------------------------------
page = 8
        fuelTrim1Table      = array,  U08,     0,[6x6],     "%",    1.0,    -128,   -50,    50,        0
        fuelTrim1rpmBins    = array,  U08,    36,[  6],     "RPM",  100.0,  0.0,   0,     25500,      0
#if SPEED_DENSITY
        fuelTrim1loadBins   = array,  U08,    42,[  6],     "kPa",  2.0,    0.0,   0.0,     511.0,      0
#elif ALPHA_N
        fuelTrim1loadBins   = array,  U08,    42,[  6],     "TPS",  2.0,    0.0,   0.0,     100.0,      0
#endif

        fuelTrim2Table      = array,  U08,    48,[6x6],     "%",    1.0,    -128,   -50,    50,         0
        fuelTrim2rpmBins    = array,  U08,    84,[  6],     "RPM",  100.0,  0.0,   0,     25500,      0
#if SPEED_DENSITY
        fuelTrim2loadBins   = array,  U08,    90,[  6],     "kPa",  2.0,    0.0,   0.0,     511.0,      0
#elif ALPHA_N
        fuelTrim2loadBins   = array,  U08,    90,[  6],     "TPS",  2.0,    0.0,   0.0,     100.0,      0
#endif

        fuelTrim3Table      = array,  U08,    96,[6x6],     "%",    1.0,    -128,  -50,     50,         0
        fuelTrim3rpmBins    = array,  U08,   132,[  6],     "RPM",  100.0,  0.0,   0,     25500,      0
#if SPEED_DENSITY
        fuelTrim3loadBins   = array,  U08,   138,[  6],     "kPa",  2.0,    0.0,   0.0,     511.0,      0
#elif ALPHA_N
        fuelTrim3loadBins   = array,  U08,   138,[  6],     "TPS",  2.0,    0.0,   0.0,     100.0,      0
#endif

        fuelTrim4Table      = array,  U08,   144,[6x6],     "%",    1.0,    -128,  -50,     50,         0
        fuelTrim4rpmBins    = array,  U08,   180,[  6],     "RPM",  100.0,  0.0,   0,     25500,      0
#if SPEED_DENSITY
        fuelTrim4loadBins   = array,  U08,   186,[  6],     "kPa",  2.0,    0.0,   0.0,     511.0,      0
#elif ALPHA_N
        fuelTrim4loadBins   = array,  U08,   186,[  6],     "TPS",  2.0,    0.0,   0.0,     100.0,      0
#endif

;--------------------------------------------------
;CANBUS control and Auxillary io(Page 9)
;--------------------------------------------------
page = 9
        enable_secondarySerial    = bits,   U08,     0, [0:0], "Disable", "Enable"
        intcan_available          = bits,   U08,     0, [1:1], "Disable", "Enable"
		enable_intcan             = bits,   U08,     0, [2:2], "Disable", "Enable"
		 
        caninput_sel0a            = bits,   U08,     1, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel0b            = bits,   U08,     1, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel0extsourcea   = bits,   U08,     1, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel0extsourceb   = bits,   U08,     1, [6:6], "Via Secondary Serial", "Via Internal CAN"        
		caninput_sel0extsourcec   = bits,   U08,     1, [7:7], "INVALID", "Via Internal CAN"

        caninput_sel1a            = bits,   U08,     2, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel1b            = bits,   U08,     2, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel1extsourcea   = bits,   U08,     2, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel1extsourceb   = bits,   U08,     2, [6:6], "Via Secondary Serial", "Via Internal CAN"       
		caninput_sel1extsourcec   = bits,   U08,     2, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel2a            = bits,   U08,     3, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel2b            = bits,   U08,     3, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel2extsourcea   = bits,   U08,     3, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel2extsourceb   = bits,   U08,     3, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel2extsourcec   = bits,   U08,     3, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel3a            = bits,   U08,     4, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel3b            = bits,   U08,     4, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel3extsourcea   = bits,   U08,     4, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel3extsourceb   = bits,   U08,     4, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel3extsourcec   = bits,   U08,     4, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel4a            = bits,   U08,     5, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel4b            = bits,   U08,     5, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel4extsourcea   = bits,   U08,     5, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel4extsourceb   = bits,   U08,     5, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel4extsourcec   = bits,   U08,     5, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel5a            = bits,   U08,     6, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel5b            = bits,   U08,     6, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel5extsourcea   = bits,   U08,     6, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel5extsourceb   = bits,   U08,     6, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel5extsourcec   = bits,   U08,     6, [7:7], "INVALID", "Via Internal CAN"				

        caninput_sel6a            = bits,   U08,     7, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel6b            = bits,   U08,     7, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel6extsourcea   = bits,   U08,     7, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel6extsourceb   = bits,   U08,     7, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel6extsourcec   = bits,   U08,     7, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel7a            = bits,   U08,     8, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel7b            = bits,   U08,     8, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel7extsourcea   = bits,   U08,     8, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel7extsourceb   = bits,   U08,     8, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel7extsourcec   = bits,   U08,     8, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel8a            = bits,   U08,     9, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel8b            = bits,   U08,     9, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel8extsourcea   = bits,   U08,     9, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel8extsourceb   = bits,   U08,     9, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel8extsourcec   = bits,   U08,     9, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel9a            = bits,   U08,     10, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel9b            = bits,   U08,     10, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel9extsourcea   = bits,   U08,     10, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel9extsourceb   = bits,   U08,     10, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel9extsourcec   = bits,   U08,     10, [7:7], "INVALID", "Via Internal CAN"		
		
        caninput_sel10a           = bits,   U08,     11, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel10b           = bits,   U08,     11, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel10extsourcea  = bits,   U08,     11, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel10extsourceb  = bits,   U08,     11, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel10extsourcec  = bits,   U08,     11, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel11a           = bits,   U08,     12, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel11b           = bits,   U08,     12, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel11extsourcea  = bits,   U08,     12, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel11extsourceb  = bits,   U08,     12, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel11extsourcec  = bits,   U08,     12, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel12a           = bits,   U08,     13, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel12b           = bits,   U08,     13, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel12extsourcea  = bits,   U08,     13, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel12extsourceb  = bits,   U08,     13, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel12extsourcec  = bits,   U08,     13, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel13a           = bits,   U08,     14, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel13b           = bits,   U08,     14, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel13extsourcea  = bits,   U08,     14, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel13extsourceb  = bits,   U08,     14, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel13extsourcec  = bits,   U08,     14, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel14a           = bits,   U08,     15, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel14b           = bits,   U08,     15, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel14extsourcea  = bits,   U08,     15, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel14extsourceb  = bits,   U08,     15, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel14extsourcec  = bits,   U08,     15, [7:7], "INVALID", "Via Internal CAN"		

        caninput_sel15a           = bits,   U08,     16, [0:1], "Off", "INVALID", "Analog_local", "Digital_local"
        caninput_sel15b           = bits,   U08,     16, [2:3], "Off", "External Source", "Analog_local", "Digital_local"
		caninput_sel15extsourcea  = bits,   U08,     16, [5:5], "Via Secondary Serial", "INVALID"
		caninput_sel15extsourceb  = bits,   U08,     16, [6:6], "Via Secondary Serial", "Via Internal CAN"
		caninput_sel15extsourcec  = bits,   U08,     16, [7:7], "INVALID", "Via Internal CAN"		
		       
        caninput_source_can_address0 = bits,   U16,     17, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address1 = bits,   U16,     19, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address2 = bits,   U16,     21, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address3 = bits,   U16,     23, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address4 = bits,   U16,     25, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address5 = bits,   U16,     27, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address6 = bits,   U16,     29, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address7 = bits,   U16,     31, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address8 = bits,   U16,     33, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address9 = bits,   U16,     35, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address10 = bits,  U16,     37, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address11 = bits,  U16,     39, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address12 = bits,  U16,     41, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address13 = bits,  U16,     43, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address14 = bits,  U16,     45, 		    [0:10], $CAN_ADDRESS_HEX
        caninput_source_can_address15 = bits,  U16,     47, 		    [0:10], $CAN_ADDRESS_HEX

        caninput_source_start_byte0 = bits,   U08,     49, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte1 = bits,   U08,     50, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte2 = bits,   U08,     51, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte3 = bits,   U08,     52, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte4 = bits,   U08,     53, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte5 = bits,   U08,     54, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte6 = bits,   U08,     55, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte7 = bits,   U08,     56, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte8 = bits,   U08,     57, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte9 = bits,   U08,     58, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte10 = bits,   U08,     59, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte11 = bits,   U08,     60, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte12 = bits,   U08,     61, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte13 = bits,   U08,     62, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte14 = bits,   U08,     63, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        caninput_source_start_byte15 = bits,   U08,     64, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"

        caninput_source_num_bytes0 = bits,    U16,     65, [0:0], "1", "2"
        caninput_source_num_bytes1 = bits,    U16,     65, [1:1], "1", "2"
        caninput_source_num_bytes2 = bits,    U16,     65, [2:2], "1", "2"
        caninput_source_num_bytes3 = bits,    U16,     65, [3:3], "1", "2"
        caninput_source_num_bytes4 = bits,    U16,     65, [4:4], "1", "2"
        caninput_source_num_bytes5 = bits,    U16,     65, [5:5], "1", "2"
        caninput_source_num_bytes6 = bits,    U16,     65, [6:6], "1", "2"
        caninput_source_num_bytes7 = bits,    U16,     65, [7:7], "1", "2"
        caninput_source_num_bytes8 = bits,    U16,     65, [8:8], "1", "2"
        caninput_source_num_bytes9 = bits,    U16,     65, [9:9], "1", "2"
        caninput_source_num_bytes10 = bits,   U16,     65, [10:10], "1", "2"
        caninput_source_num_bytes11 = bits,   U16,     65, [11:11], "1", "2"
        caninput_source_num_bytes12 = bits,   U16,     65, [12:12], "1", "2"
        caninput_source_num_bytes13 = bits,   U16,     65, [13:13], "1", "2"
        caninput_source_num_bytes14 = bits,   U16,     65, [14:14], "1", "2"
        caninput_source_num_bytes15 = bits,   U16,     65, [15:15], "1", "2"

        unused10_67         = scalar, U08,     67,        "",       1, 0, 0, 255, 0
        unused10_68         = scalar, U08,     68,        "",       1, 0, 0, 255, 0
		
        enable_intcandata_out  = bits,   U08,     69, [0:0], "Off", "On"
        canoutput_sel0       = bits,   U08,    70, [0:0], "Off", "On"
        canoutput_sel1       = bits,   U08,    71, [0:0], "Off", "On"
        canoutput_sel2       = bits,   U08,    72, [0:0], "Off", "On"
        canoutput_sel3       = bits,   U08,    73, [0:0], "Off", "On"
        canoutput_sel4       = bits,   U08,    74, [0:0], "Off", "On"
        canoutput_sel5       = bits,   U08,    75, [0:0], "Off", "On"
        canoutput_sel6       = bits,   U08,    76, [0:0], "Off", "On"
        canoutput_sel7       = bits,   U08,    77, [0:0], "Off", "On"
        canoutput_param_group  = array ,  U16,   78,    	[  8],	"",		1, 0, 0, 65535, 0
        canoutput_param_start_byte0 = bits,   U08,     94, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        canoutput_param_start_byte1 = bits,   U08,     95, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        canoutput_param_start_byte2 = bits,   U08,     96, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        canoutput_param_start_byte3 = bits,   U08,     97, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        canoutput_param_start_byte4 = bits,   U08,     98, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        canoutput_param_start_byte5 = bits,   U08,     99, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
        canoutput_param_start_byte6 = bits,   U08,     100, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
    	canoutput_param_start_byte7 = bits,   U08,     101, [0:2], "0", "1", "2", "3", "4", "5", "6", "7"
    	canoutput_param_num_bytes0 = bits,   U08,     102, [0:1], "INVALID", "1", "2", "INVALID"
        canoutput_param_num_bytes1 = bits,   U08,     103, [0:1], "INVALID", "1", "2", "INVALID"
        canoutput_param_num_bytes2 = bits,   U08,     104, [0:1], "INVALID", "1", "2", "INVALID"
        canoutput_param_num_bytes3 = bits,   U08,     105, [0:1], "INVALID", "1", "2", "INVALID"
        canoutput_param_num_bytes4 = bits,   U08,     106, [0:1], "INVALID", "1", "2", "INVALID"
        canoutput_param_num_bytes5 = bits,   U08,     107, [0:1], "INVALID", "1", "2", "INVALID"
        canoutput_param_num_bytes6 = bits,   U08,     108, [0:1], "INVALID", "1", "2", "INVALID"
    	canoutput_param_num_bytes7 = bits,   U08,     109, [0:1], "INVALID", "1", "2", "INVALID"

        unused10_110         = scalar, U08,     110,        "",       1, 0, 0, 255, 0
        unused10_111         = scalar, U08,     111,        "",       1, 0, 0, 255, 0
        unused10_112         = scalar, U08,     112,        "",       1, 0, 0, 255, 0
        unused10_113         = scalar, U08,     113,        "",       1, 0, 0, 255, 0

		speeduino_tsCanId	   = bits,	 U08,	  114, 		[0:3],  $tsCanId_list
        true_address           = bits,   U16,     115, 		[0:10], $CAN_ADDRESS_HEX
        realtime_base_address  = bits,   U16,     117,   	[0:10], $CAN_ADDRESS_HEX
        obd_address            = bits,   U16,     119, 	    [0:10], $CAN_ADDRESS_HEX

        Auxin0pina        = bits,	 U08,	  121, 		[0:5],  $ANALOG_PIN
        Auxin1pina        = bits,	 U08,	  122, 		[0:5],  $ANALOG_PIN
        Auxin2pina        = bits,	 U08,	  123, 		[0:5],  $ANALOG_PIN
        Auxin3pina        = bits,	 U08,	  124, 		[0:5],  $ANALOG_PIN
        Auxin4pina        = bits,	 U08,	  125, 		[0:5],  $ANALOG_PIN
        Auxin5pina        = bits,	 U08,	  126, 		[0:5],  $ANALOG_PIN
        Auxin6pina        = bits,	 U08,	  127, 		[0:5],  $ANALOG_PIN
        Auxin7pina        = bits,	 U08,	  128, 		[0:5],  $ANALOG_PIN
        Auxin8pina        = bits,	 U08,	  129, 		[0:5],  $ANALOG_PIN
        Auxin9pina        = bits,	 U08,	  130, 		[0:5],  $ANALOG_PIN
        Auxin10pina       = bits,	 U08,	  131, 		[0:5],  $ANALOG_PIN
        Auxin11pina       = bits,	 U08,	  132, 		[0:5],  $ANALOG_PIN
        Auxin12pina       = bits,	 U08,	  133, 		[0:5],  $ANALOG_PIN
        Auxin13pina       = bits,	 U08,	  134, 		[0:5],  $ANALOG_PIN
		Auxin14pina       = bits,	 U08,	  135, 		[0:5],  $ANALOG_PIN
        Auxin15pina       = bits,	 U08,	  136, 		[0:5],  $ANALOG_PIN
		
		Auxin0pinb        = bits,	 U08,	  137, 		[0:5],  $DIGITAL_PIN
        Auxin1pinb        = bits,	 U08,	  138, 		[0:5],  $DIGITAL_PIN
        Auxin2pinb        = bits,	 U08,	  139, 		[0:5],  $DIGITAL_PIN
        Auxin3pinb        = bits,	 U08,	  140, 		[0:5],  $DIGITAL_PIN
        Auxin4pinb        = bits,	 U08,	  141, 		[0:5],  $DIGITAL_PIN
        Auxin5pinb        = bits,	 U08,	  142, 		[0:5],  $DIGITAL_PIN
        Auxin6pinb        = bits,	 U08,	  143, 		[0:5],  $DIGITAL_PIN
        Auxin7pinb        = bits,	 U08,	  144, 		[0:5],  $DIGITAL_PIN
        Auxin8pinb        = bits,	 U08,	  145, 		[0:5],  $DIGITAL_PIN
        Auxin9pinb        = bits,	 U08,	  146, 		[0:5],  $DIGITAL_PIN
        Auxin10pinb       = bits,	 U08,	  147, 		[0:5],  $DIGITAL_PIN
        Auxin11pinb       = bits,	 U08,	  148, 		[0:5],  $DIGITAL_PIN
        Auxin12pinb       = bits,	 U08,	  149, 		[0:5],  $DIGITAL_PIN
        Auxin13pinb       = bits,	 U08,	  150, 		[0:5],  $DIGITAL_PIN
		Auxin14pinb       = bits,	 U08,	  151, 		[0:5],  $DIGITAL_PIN
        Auxin15pinb       = bits,	 U08,	  152, 		[0:5],  $DIGITAL_PIN
        
		;unused10_137        = scalar, U08,    137,       "",       1, 0, 0, 255, 0
        ;unused10_138        = scalar, U08,    138,       "",       1, 0, 0, 255, 0
        ;unused10_139        = scalar, U08,    139,       "",       1, 0, 0, 255, 0
        ;unused10_140        = scalar, U08,    140,       "",       1, 0, 0, 255, 0
        ;unused10_141        = scalar, U08,    141,       "",       1, 0, 0, 255, 0
		;unused10_142        = scalar, U08,    142,       "",       1, 0, 0, 255, 0
        ;unused10_143        = scalar, U08,    143,       "",       1, 0, 0, 255, 0
        ;unused10_144        = scalar, U08,    144,       "",       1, 0, 0, 255, 0
        ;unused10_145        = scalar, U08,    145,       "",       1, 0, 0, 255, 0
        ;unused10_146        = scalar, U08,    146,       "",       1, 0, 0, 255, 0
        ;unused10_147        = scalar, U08,    147,       "",       1, 0, 0, 255, 0
        ;unused10_148        = scalar, U08,    148,       "",       1, 0, 0, 255, 0
		;unused10_149        = scalar, U08,    149,       "",       1, 0, 0, 255, 0
        ;unused10_150        = scalar, U08,    150,       "",       1, 0, 0, 255, 0
        ;unused10_151        = scalar, U08,    151,       "",       1, 0, 0, 255, 0
        ;unused10_152        = scalar, U08,    152,       "",       1, 0, 0, 255, 0
        ;unused10_153        = scalar, U08,    153,       "",       1, 0, 0, 255, 0
        iacStepperInv  = bits,   U08,     153, [0:0], "No",        "Yes"
        iacCoolTime  = bits , U08,      153, [1:3],      "0", "1", "2", "3", "4", "5", "6","INVALID"

        unused10_154        = scalar, U08,    154,       "",       1, 0, 0, 255, 0
        unused10_155        = scalar, U08,    155,       "",       1, 0, 0, 255, 0
		unused10_156        = scalar, U08,    156,       "",       1, 0, 0, 255, 0
        unused10_157        = scalar, U08,    157,       "",       1, 0, 0, 255, 0
        unused10_158        = scalar, U08,    158,       "",       1, 0, 0, 255, 0
        unused10_159        = scalar, U08,    159,       "",       1, 0, 0, 255, 0
        unused10_160        = scalar, U08,    160,       "",       1, 0, 0, 255, 0
        unused10_161        = scalar, U08,    161,       "",       1, 0, 0, 255, 0
        unused10_162        = scalar, U08,    162,       "",       1, 0, 0, 255, 0		
		unused10_163        = scalar, U08,    163,       "",       1, 0, 0, 255, 0
        unused10_164        = scalar, U08,    164,       "",       1, 0, 0, 255, 0
        unused10_165        = scalar, U08,    165,       "",       1, 0, 0, 255, 0
        unused10_166        = scalar, U08,    166,       "",       1, 0, 0, 255, 0
        unused10_167        = scalar, U08,    167,       "",       1, 0, 0, 255, 0
        unused10_168        = scalar, U08,    168,       "",       1, 0, 0, 255, 0
        unused10_169        = scalar, U08,    169,       "",       1, 0, 0, 255, 0
		unused10_170        = scalar, U08,    170,       "",       1, 0, 0, 255, 0
        unused10_171        = scalar, U08,    171,       "",       1, 0, 0, 255, 0
        unused10_172        = scalar, U08,    172,       "",       1, 0, 0, 255, 0
        unused10_173        = scalar, U08,    173,       "",       1, 0, 0, 255, 0
        unused10_174        = scalar, U08,    174,       "",       1, 0, 0, 255, 0
        unused10_175        = scalar, U08,    175,       "",       1, 0, 0, 255, 0
        unused10_176        = scalar, U08,    176,       "",       1, 0, 0, 255, 0
		unused10_177        = scalar, U08,    177,       "",       1, 0, 0, 255, 0
        unused10_178        = scalar, U08,    178,       "",       1, 0, 0, 255, 0
        unused10_179        = scalar, U08,    179,       "",       1, 0, 0, 255, 0
        unused10_180        = scalar, U08,    180,       "",       1, 0, 0, 255, 0
        unused10_181        = scalar, U08,    181,       "",       1, 0, 0, 255, 0
        unused10_182        = scalar, U08,    182,       "",       1, 0, 0, 255, 0
        unused10_183        = scalar, U08,    183,       "",       1, 0, 0, 255, 0
		unused10_184        = scalar, U08,    184,       "",       1, 0, 0, 255, 0
        unused10_185        = scalar, U08,    185,       "",       1, 0, 0, 255, 0
        unused10_186        = scalar, U08,    186,       "",       1, 0, 0, 255, 0
        unused10_187        = scalar, U08,    187,       "",       1, 0, 0, 255, 0
        unused10_188        = scalar, U08,    188,       "",       1, 0, 0, 255, 0
        unused10_189        = scalar, U08,    189,       "",       1, 0, 0, 255, 0
        unused10_190        = scalar, U08,    190,       "",       1, 0, 0, 255, 0
        blankfield          = bits,   U08,    191,      [0:0], "",""
		;unused10_191        = scalar, U08,    191,       "",       1, 0, 0, 255, 0
		
page = 10
        crankingEnrichBins  = array,  U08,       0, [4],  "C",        1.0,    -40,    -40,    215,      0
        crankingEnrichValues= array,  U08,       4, [4],  "%",        1.0,    0.0,  0,    255,        0 ; Values for the cranking enrichment curve

        rotaryType          = bits ,  U08,       8, [0:1],           "FC", "FD", "RX8", "INVALID"
        stagingEnabled      = bits ,  U08,       8, [2:2],           "Off","On"
        stagingMode         = bits ,  U08,       8, [3:3],           "Table","Automatic"
        EMAPPin             = bits,   U08,       8, [4:7],      "A0", "A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A8", "A10", "A11", "A12", "A13", "A14", "A15"

        rotarySplitValues   = array,  U08,       9, [8],   "degrees", 1.0,    0.0,   0.0,     40,         0
#if SPEED_DENSITY
        rotarySplitBins     = array,  U08,      17, [8],     "kPa",  2.0,    0.0,   0.0,     511.0,      0
#elif ALPHA_N
        rotarySplitBins     = array,  U08,      17, [8],     "TPS",  2.0,    0.0,   0.0,     100.0,      0
#endif
        boostSens           = scalar, U16,      25,      "",       1, 0, 0, 5000, 0
        boostIntv           = scalar, U08,      27,      "ms",     1, 0,  0,  250, 0
        stagedInjSizePri    = scalar, U16,      28,      "cc/min",       1, 0, 0, 1500, 0
        stagedInjSizeSec    = scalar, U16,      30,      "cc/min",       1, 0, 0, 1500, 0
        lnchCtrlTPS         = scalar, U08,      32,      "%TPS",         1, 0, 0, 100, 0

        flexBoostBins       = array,  U08,      33, [6], "%",    1.0,       0.0,   0.0,     250.0,    0
        ; The boost range is obviously arbitrary since int16_t has ~32k in both directions
        flexBoostAdj        = array,  S16,      39, [6], "kPa",  1.0,       0.0,   -500.0,  500.0,    0
        flexFuelBins        = array,  U08,      51, [6], "%",    1.0,       0.0,   0.0,     250.0,    0
        flexFuelAdj         = array,  U08,      57, [6], "%",    1.0,       0.0,   0.0,     250.0,    0
        flexAdvBins         = array,  U08,      63, [6], "%",    1.0,       0.0,   0.0,     250.0,    0
        flexAdvAdj          = array,  S08,      69, [6], "Deg",  1.0,       0.0,   -125,    125.0,    0

        n2o_enable          = bits ,  U08,      75, [0:1],           "Off","1 Stage","2 stage", "INVALID"
        n2o_arming_pin      = bits ,  U08,      75, [2:7],           $IO_Pins_no_def
        n2o_minCLT          = scalar, U08,      76,      "C",        1.0,    -40,    -40,    215,      0
        n2o_maxMAP          = scalar, U08,      77,      "kPa",      2.0,   0.0,  0.0,  511.0,      0
        n2o_minTPS          = scalar, U08,      78,      "%TPS",     1.0,   0.0,  0.0,  100,        0
        n2o_maxAFR          = scalar, U08,      79,      "AFR",      0.1,   0.0,  0.0,  25.5,       1
        
        n2o_stage1_pin      = bits ,  U08,      80, [0:5],           $IO_Pins_no_def
        n2o_pin_polarity    = bits ,  U08,      80, [6:6],           "HIGH", "LOW"
        n2o_unused          = bits ,  U08,      80, [7:7],           "No", "Yes"
        n2o_stage1_minRPM   = scalar, U08,      81,      "RPM",       100,       0.0,   1000,    10000,    0
        n2o_stage1_maxRPM   = scalar, U08,      82,      "RPM",       100,       0.0,   1000,    10000,    0
        n2o_stage1_adderMin = scalar, U08,      83,      "ms",        0.1,       0,        0,     25.5,    1
        n2o_stage1_adderMax = scalar, U08,      84,      "ms",        0.1,       0,        0,     25.5,    1
        n2o_stage1_retard   = scalar, U08,      85,      "Deg",       1.0,       0.0,   0.0,     250.0,    0

        n2o_stage2_pin      = bits ,  U08,      86, [0:5],           $IO_Pins_no_def
        n2o_stage2_unused   = bits ,  U08,      86, [6:7],           "No", "Yes", "INVALID", "INVALID"
        n2o_stage2_minRPM   = scalar, U08,      87,      "RPM",       100,       0.0,   1000,    10000,    0
        n2o_stage2_maxRPM   = scalar, U08,      88,      "RPM",       100,       0.0,   1000,    10000,    0
        n2o_stage2_adderMin = scalar, U08,      89,      "ms",        0.1,       0,        0,       32,    1
        n2o_stage2_adderMax = scalar, U08,      90,      "ms",        0.1,       0,        0,       32,    1
        n2o_stage2_retard   = scalar, U08,      91,      "Deg",       1.0,       0.0,   0.0,     250.0,    0
        
        ; Knock settings
        knock_mode          = bits ,  U08,      92, [0:1],           "Off","Digital","Analog", "INVALID"
        knock_pin           = bits ,  U08,      92, [2:7],           "INVALID", "INVALID", "2", "3", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "18", "19", "20", "21", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "INVALID", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "INVALID"

        knock_trigger       = bits ,  U08,      93, [0:0],           "HIGH", "LOW"
        knock_pullup        = bits ,  U08,      93, [1:1],           "Off", "Internal pullup"
        knock_limiterDisable= bits ,  U08,      93, [2:2],           "No", "Yes"
        knock_unused        = bits ,  U08,      93, [3:4],           "INVALID", "1", "2", "3"

        ;Knock detection / filters
        knock_count         = bits ,  U08,      93, [5:7],           "INVALID", "1", "2", "3", "4", "5", "6", "7"
        knock_threshold     = scalar, U08,      94,      "Volts",    0.1,    0.0,  0.0,  5.0,          1
        knock_maxMAP        = scalar, U08,      95,      "kPa",      2.0,    0.0,  0.0,  511.0,        0
        knock_maxRPM        = scalar, U08,      96,      "RPM",      100.0,  0.0,   0,     10000,      0
        knock_window_rpms   = array,  U08,      97, [6], "RPM",      100.0,  0.0,   0,     10000,      0
        knock_window_angle  = array,  U08,     103, [6], "deg",      1.0,    -50,   -50,     100,      0
        knock_window_dur    = array,  U08,     109, [6], "deg",      1.0,    0.0,   0,       100,      0 ;Knock window duration

        ;Retard and recovery
        knock_maxRetard     = scalar, U08,     115,      "Deg",      1.0,       0.0,   0.0,     50,    0
        knock_firstStep     = scalar, U08,     116,      "Deg",      1.0,       0.0,   0.0,     50,    0
        knock_stepSize      = scalar, U08,     117,      "Deg",      1.0,       0.0,   0.0,     50,    0
        knock_stepTime      = scalar, U08,     118,      "Sec",      0.1,       0.0,   0.0,     2.5,   1
        
        knock_duration      = scalar, U08,     119,      "Sec",      0.1,       0.0,   0.0,     2.5,   1 ;//Time after knock retard starts that it should start recovering
        knock_recoveryStepTime  = scalar, U08, 120,      "Sec",      0.1,       0.0,   0.0,     2.5,   1
        knock_recoveryStep  = scalar, U08,     121,      "Deg",      1.0,       0.0,   0.0,     50,    0

        unused11_122_191     =  array,  U08,    122,[70],"RPM",  100.0,      0.0,  100,     25500,    0

;-------------------------------------------------------------------------------

[ConstantsExtensions]
    requiresPowerCycle = reqFuel
    requiresPowerCycle = injOpen
    requiresPowerCycle = vvtEnabled
    requiresPowerCycle = boostFreq
    requiresPowerCycle = vvtFreq
    requiresPowerCycle = idleFreq
    requiresPowerCycle = iacCLminDuty
    requiresPowerCycle = iacCLmaxDuty
    requiresPowerCycle = useExtBaro
    requiresPowerCycle = useEMAP
    requiresPowerCycle = baroPin
    requiresPowerCycle = rotaryType

    defaultValue = mapMin,      10
    defaultValue = mapMax,      260
    defaultValue = baroMin      10
    defaultValue = baroMax,     260
    defaultValue = useEMAP,     0
    defaultValue = EMAPMin,     10
    defaultValue = EMAPMax,     260
    defaultValue = ignCranklock,0
    defaultValue = multiplyMAP, 0
    defaultValue = includeAFR,  0
    defaultValue = stoich,      14.7
    defaultValue = iacCLminDuty,0
    defaultValue = iacCLmaxDuty,100
    defaultValue = sparkDur,    1.0
    defaultValue = fixAngEnable,0
	defaultValue = true_address, 256
	defaultValue = realtime_base_address, 336
    defaultValue = VVTasOnOff,  0
    defaultValue = stagingEnabled, 0
    defaultValue = lnchCtrlTPS, 0
    defaultValue = resetControl, 0
    defaultValue = bootloaderCaps, 0
    defaultValue = taeTaperMin, 1000
    defaultValue = taeTaperMax, 5000
	 ; defaultValue = obd_address, 0

    ;Default ADC filter values
    defaultValue = ADCFILTER_TPS  50
    defaultValue = ADCFILTER_CLT  180
    defaultValue = ADCFILTER_IAT  180
    defaultValue = ADCFILTER_O2   100
    defaultValue = ADCFILTER_BAT  128
    defaultValue = ADCFILTER_MAP   20 ;This is only used on Instantaneous MAP readings and is intentionally very weak to allow for faster response
    defaultValue = ADCFILTER_BARO  64
    ;Force the controller priority for the filters (Controller knows best here when in doubt)
    controllerPriority = ADCFILTER_TPS
    controllerPriority = ADCFILTER_CLT
    controllerPriority = ADCFILTER_IAT
    controllerPriority = ADCFILTER_O2
    controllerPriority = ADCFILTER_BAT
    controllerPriority = ADCFILTER_MAP
    controllerPriority = ADCFILTER_BARO

    ;These are the limits for each of the load algorithms (Refer to the PC Variables section)
    ;Order is:                        MAP   TPS   IMAP/EMAP ITB UNUSED  UNUSED  UNUSED  UNUSED
    defaultValue = algorithmLimits,   511   100   511       511 100     100     100     100
#if SPEED_DENSITY
    defaultValue = fuelLoadMax, 511
    defaultValue = ignLoadMax, 511
#else
    defaultValue = fuelLoadMax, 511
    defaultValue = ignLoadMax, 511
#endif

    controllerPriority = bootloaderCaps

[Menu]

   ;----------------------------------------------------------------------------
   ;  There are five pre-defined values that may be used to define your menus.
   ;  The first four allow access to the "standard" dialog boxes, the last one
   ;  merely draws a separator (horizontal line) in the menu.
   ;
   ;     std_constants
   ;     std_enrichments
   ;     std_realtime
   ;     std_warmup
   ;
   ;     std_separator
   ;
   ;  If you use any of the std_constants, std_enrichments or std_warmup
   ;  editors, they may be optionally suffixed with a page number (only
   ;  useful for multi-page code variants), which causes them to edit the
   ;  specified page.  If you leave off the page specifier, they edit logical
   ;  page one as specified in the Constants section.
   ;
   ;  There are four special menu names, which when used append to the standard
   ;  menus of the same name instead of creating a new one.  The menu names
   ;  are "File", "Communications", "Tools" and "Help".
   ;
   ;----------------------------------------------------------------------------

menuDialog = main

   menu = "Settings"
      subMenu = engine_constants,   "Engine Constants"
      subMenu = injChars,           "Injector Characteristics"
      ;subMenu = OLED,               "OLED Setup"
      subMenu = airdensity_curve,   "IAT Density"

   menu = "&Tuning"
      subMenu = std_realtime,       "Realtime Display"
      subMenu = accelEnrichments,   "Acceleration Enrichment"
      subMenu = egoControl,         "AFR/O2", 3
      subMenu = RevLimiterS,        "Limiters",       2
      subMenu = veTableDialog,      "VE Table",       0
      subMenu = sparkTbl,           "Spark Table",    2
      subMenu = afrTable1Tbl,        "AFR Table",       5
      subMenu = std_separator
      subMenu = inj_trimad,         "Sequential fuel trim", 9
      subMenu = stagingTableDialog, "Staged Injection", 10, { nCylinders <= 4 } ; Can't do staging on more than 4 cylinder engines

   menu = "&Spark"
      subMenu = sparkSettings,          "Spark Settings"
      subMenu = sparkTbl,               "Spark Table", 2
      subMenu = iat_retard_curve,       "IAT Retard"
      subMenu = knockSettings,          "Knock Settings"

   menu = "&Starting/Idle"
        subMenu = crankPW,              "Cranking Settings"
        subMenu = warmup,               "Warmup Enrichment"
        subMenu = std_separator
        subMenu = idleSettings,         "Idle Control"
        subMenu = iacClosedLoop_curve,  "Idle - Closed loop targets", 7, { iacAlgorithm == 3 || iacAlgorithm == 5 }
        subMenu = iacPwm_curve,         "Idle - PWM Duty Cycle", 7, { iacAlgorithm == 2 }
        subMenu = iacPwmCrank_curve,    "Idle - PWM Cranking Duty Cycle", 7, { iacAlgorithm == 2 }
        subMenu = iacStep_curve,        "Idle - Stepper Motor", 7, { iacAlgorithm == 4 }
        subMenu = iacStepCrank_curve,   "Idle - Stepper Motor Cranking", 7, { iacAlgorithm == 4 }
        subMenu = std_separator
        subMenu = idleUpSettings,       "Idle Up Settings", { iacAlgorithm == 2 || iacAlgorithm == 3 || iacAlgorithm == 4 || iacAlgorithm == 5 }

    menu = "&Accessories"
        subMenu = fanSettings,          "Thermo Fan"
        subMenu = LaunchControl,        "Launch Control / Flat Shift"
        subMenu = std_separator
        subMenu = boostSettings,        "Boost Control"
        subMenu = boostLoad,             "Boost Targets/Load", 8,  { boostEnabled }
        subMenu = std_separator
        subMenu = vvtSettings,          "VVT Control"
        subMenu = vvtTbl,               "VVT duty cycle", 8,  { vvtEnabled }

  menuDialog = main
   menu = "Tools"
      subMenu = mapCal,           "Calibrate Pressure Sensors"
      subMenu = std_ms2gentherm,  "Calibrate Temperature Sensors", 0
      subMenu = std_ms2geno2,     "Calibrate AFR Sensor", 0
      subMenu = sensorFilters,    "Set analog sensor filters"

   menuDialog = main
      menu = "3D &Tuning Maps"
        subMenu = veTable1Map,    "Fuel Table"
        subMenu = sparkMap,       "Spark Table", 3
        subMenu = afrTable1Map,   "AFR Target Table"

#if enablehardware_test
   menuDialog = main
	  menu = "Hardware Testing"
		subMenu = outputtest1, "Test Output Hardware"
#endif

		menu = "Help"
        subMenu = helpGeneral,     "Speeduino Help"
;-------------------------------------------------------------------------------

[SettingContextHelp]
; constantName = "Help Text"
; These provide the context help in the dialog when these variables are used
    nCylinders  = "Cylinder count"
    alternate   = "Whether or not the injectors should be fired at the same time. This setting is ignored when Sequential is selected below, however it will still affect the req_fuel value."
    engineType  = "Engines with an equal number of degrees between all firings (This is most engines) should select Even fire. Some 2 and 6 cylinder engines are Odd fire however."
    twoStroke   = "Four-Stroke (most engines), Two-stroke."
    nInjectors  = "Number of primary injectors."
    mapSample   = "The method used for calculating the MAP reading\nFor 1-2 Cylinder engines, Cycle Minimum is recommended.\nFor more than 2 cylinders Cycle Average is recommended"
    stoich      = "The stoichiometric ration of the fuel being used. For flex fuel, choose the primary fuel"
    injLayout   = "The injector layout and timing to be used. Options are: \n 1. Paired - 2 injectors per output. Outputs active is equal to half the number of cylinders. Outputs are timed over 1 crank revolution. \n 2. Semi-sequential: Same as paired except that injector channels are mirrored (1&4, 2&3) meaning the number of outputs used are equal to the number of cylinders. Only valid for 4 cylinders or less. \n 3. Banked: 2 outputs only used. \n 4. Sequential: 1 injector per output and outputs used equals the number of cylinders. Injection is timed over full cycle. "

    TrigPattern = "The type of input trigger decoder to be used."
	useResync   = "If enabled, sync will be rechecked once every full cycle from the cam input. This is good for accuracy, however if your cam input is noisy then this can cause issues."
	trigPatternSec  = "Cam mode/type also known as Secondary Trigger Pattern."
    numTeeth    = "Number of teeth on Primary Wheel."
    TrigSpeed   = "Primary trigger speed."
    missingTeeth= "Number of Missing teeth on Primary Wheel."
    TrigAng     = "The Angle ATDC when tooth No:1 on the primary wheel passes the primary sensor. The range of this field is -360 to +360 degrees."
    TrigAngMul  = "A multiplier used by non-360 degree tooth wheels (i.e. Wheels where the tooth count doesn't divide evenly into 360. Usage: (360 * <multiplier>) / tooth_count = Whole number"
    SkipCycles   = "The number of revolutions that will be skipped during cranking before the injectors and coils are fired."
	TrigEdge    = "The Trigger edge of the primary sensor.\nLeading.\nTrailing."
	TrigEdgeSec = "The Trigger edge of the secondary (Cam) sensor.\nLeading.\nTrailing."
	TrigFilter  = "Tuning of the trigger filter algorithm. The more aggressive the setting, the more noise will be removed, however this increases the chance of some true readings being filtered out (False positive). Medium is safe for most setups. Only select 'Aggressive' if no other options are working"

	sparkMode   = "Wasted Spark: Ignition outputs are on the channels <= half the number of cylinders. Eg 4 cylinder outputs on IGN1 and IGN2.\nSingle Channel: All ignition pulses are output on IGN1.\nWasted COP: Ignition pulses are output on all ignition channels up to the number of cylinders. Eg 4 cylinder outputs on all ignition channels. No valid for >4 cylinders"
	IgInv       = "Whether the spark fires when the ignition signal goes high or goes low. Nearly all ignition systems use 'Going Low' but please verify this as damage to coils can result from the incorrect selection. (NOTE: THIS IS NOT MEGASQUIRT. THIS SETTING IS USUALLY THE OPPOSITE OF WHAT THEY USE!)"
    sparkDur    = "The duration of the spark at full dwell. Typically around 1ms"
    fixAngEnable= "If enabled, timing will be locked/fixed and the ignition map will be ignored. Note that this value will be overriden by the fixed cranking value when cranking"
    FixAng      = "Timing will be locked at this value if the above is enabled"

    crankRPM    = "The cranking RPM threshold. When RPM is lower than this value (and above 0) the system will be considered to be cranking"

	fanInv      = ""
	fanHyster   = "The number of degrees of hysteresis to be used in controlling the fan. Recommended values are between 2 and 5"

	taeTime     = "The duration of the acceleration enrichment"

	iacChannels = "The number of output channels used for PWM valves. Select 1 for 2-wire valves or 2 for 3-wire valves."
	iacStepTime = "Pause time between each step. Values that are too low can cause the motor to behave erratically or not at all"
  iacCoolTime = "Cool time between each step. Set to zero if you don't want any cooling at all"
  
    iacStepHome = "Homing steps to perform on startup. Must be greater than the fully open steps value"
	iacStepHyster = "The minimum number of steps to move in any one go."
	iacAlgorithm = "Selects method of idle control.\nNone = no idle control valve.\nOn/Off valve.\nPWM valve (2,3 wire).\nStepper Valve (4,6,8 wire)."
	iacPWMdir   = "Normal PWM valves increase RPM with higher duty. If RPM decreases with higher duty then select Reverse"
	iacCLminDuty= "When using closed loop idle control, this is the minimum duty cycle that the PID loop will allow. Combined with the maximum value, this specifies the working range of your idle valve"
	iacCLmaxDuty= "When using closed loop idle control, this is the maximum duty cycle that the PID loop will allow. Combined with the minimum value, this specifies the working range of your idle valve"
	iacFastTemp = "Below this temperature, the idle output will be high (On). Above this temperature, it will turn off."
    idleUpPolarity = "Normal polarity is a ground switch where an earthed signal activates the Idle Up. The internal pullup will be enabled with Normal polarity. \n Inverted may be used if a 5v signal is used to enable the Idle Up."
    idleUpAdder = "The amount (In either Duty Cycle % or Steps (Depending on the idle control method in use), that the idle control will increase by when Idle Up is active"

	oddfire2    = "The ATDC angle of channel 2 for oddfire engines. This is relative to the TDC angle of channel 1"
    oddfire3    = "The ATDC angle of channel 3 for oddfire engines. This is relative to the TDC angle of channel 1 (NOT channel 2)"
    oddfire4    = "The ATDC angle of channel 4 for oddfire engines. This is relative to the TDC angle of channel 1 (NOT channel 3)"

	dfcoRPM     = "The RPM above which DFCO will be active. Typically set a few hundred RPM above maximum idle speed"
    dfcoHyster  = "Hysteresis for DFCO RPM. 200-300 RPM is typical for this, however a higher value may be needed if the RPM is fluctuating around the cutout speed"
    dfcoTPSThresh= "The TPS value below which DFCO will be active. Typical value is 5%-10%, but higher may be needed if TPS signal is noisy"

    launchPin   = "The ARDUINO pin that the clutch switch is connected to. This is NOT the pin on the connector, but the pin it relates to on the arduino"
    launchHiLo  = "Whether the signal is High or Low when the clutch pedal is engaged. For a ground switching input (Most clutch switches), this should be LOW"
    lnchPullRes = "Whether the internal pullup resistor is enabled or left floating. For a ground switching input (Most clutch switches), select Pullup. For a 0v-5v input, select Floating"
    ignBypassPin = "The ARDUINO pin that the ignition bypass is connected to. This is NOT the pin on the connector, but the pin it relates to on the arduino"
    ignBypassEnable = "If turned on, a ground signal will be output during cranking on the specified pin. This is used to bypass the Speeduino ignition control during cranking."
    ignCranklock = "On certain low resolution ignition patterns, the cranking timing can be locked to occur when a pulse is recieved."

    multiplyMAP = "If enabled, the MAP reading is included directly into the pulsewidth calculation by multiplying the VE lookup value by the MAP:Baro ratio. This results in a flatter VE table that can be easier to tune in some instances. VE table must be retuned when this value is changed."
    includeAFR  = "When enabled, the current AFR reading is incorporated directly in the pulsewidth calculation as a percentage of the current target ratio. VE table must be retuned when this value is changed. "
    useExtBaro  = "By Default, Speeduino will measure barometric pressure upon startup. Optionally however, a 2nd pressure sensor can be used to perform live barometric readings whilst the system is on."

    flexEnabled  = "Turns on readings from the Flex sensor and enables the below adjustments"
    flexFreqLow  = "The frequency of the sensor at 0% ethanol (50Hz for standard GM/Continental sensor)"
    flexFreqHigh = "The frequency of the sensor at 100% ethanol (150Hz for standard GM/Continental sensor)"
    flexFuelAdj  = "Fuel % to be used for the current ethanol % (Typically 100% @ 0%, 163% @ 100%)"
    flexAdvAdj   = "Additional advance (in degrees) for the current ethanol % (Typically 0 @ 0%, 10-20 @ 100%)"
    flexBoostAdj = "Adjustment, in kPa, to the boost target for the current ethanol %. Negative values are allowed to lower boost at lower ethanol % if necessary."

    n2o_arming_pin = "Pin that the nitrous arming/enagement switch is on."
    n2o_pin_polarity = "Whether Nitrous is active (Armed) when the pin is LOW or HIGH. If LOW is selected, the internal pullup will be used."

    flatSArm    = "The RPM switch point that determines whether an eganged clutch is for launch control or flat shift. Below this figure, an engaged clutch is considered to be for launch, above this figure an active clutch input will be considered a flat shift. This should be set at least several hundred RPM above idle"
    flatSSoftWin= "The number of RPM below the flat shift point where the softlimit will be applied (aka Soft limit window). Recommended values are 200-1000"
    flatSRetard = "The absolute timing (BTDC) that will be used when within the soft limit window"
    hardCutType = "How hard cuts should be performed for rev/launch limits. Full cut will stop all ignition events, Rolling cut will step through all ignition outputs, only cutting 1 per revolution"

	enable_secondarySerial = "This Enables the secondary serial port . Secondary serial is serial3 on mega2560 processor, and Serial2 on STM32 and Teensy processor "

	;speeduino_tsCanId = "This is the TsCanId that the Speeduino ECU will respond to. This should match the main controller CAN ID in project properties if it is connected directy to TunerStudio, Otherwise the device ID if connected via CAN passthrough"
	true_address = "This is the 11bit Can address of the Speeduino ECU "
    realtime_base_address = "This is the 11bit CAN address of the realtime data broadcast from the Speeduino ECU. This MUST be at least 0x16 greater than the true address"
	;obd_address = "The 11bit Can address that the Speeduino ECU responds to for OBD2 diagnostic requests"

	cmdEnableTestMode = "Click this to enable test mode. This will not be available if the engine is running"
	cmdStopTestMode = "Click this to disable test mode"
	cmdtestinj150dc = "this will cycle the output at 50% Duty cycle"
	cmdtestinj250dc = "this will cycle the output at 50% Duty cycle"
	cmdtestinj350dc = "this will cycle the output at 50% Duty cycle"
	cmdtestinj450dc = "this will cycle the output at 50% Duty cycle"
	cmdtestspk150dc = "this will cycle the output at 50% Duty cycle"
	cmdtestspk250dc = "this will cycle the output at 50% Duty cycle"
	cmdtestspk350dc = "this will cycle the output at 50% Duty cycle"
	cmdtestspk450dc = "this will cycle the output at 50% Duty cycle"

    ADCFILTER_TPS   = "Recommended value: 50"
    ADCFILTER_CLT   = "Recommended value: 180"
    ADCFILTER_IAT   = "Recommended value: 180"
    ADCFILTER_O2    = "Recommended value: 128"
    ADCFILTER_BAT   = "Recommended value: 128"
    ADCFILTER_MAP   = "This setting is only available when using the Instantaneious MAP sampling method. Recommended value: 20"
    ADCFILTER_BARO  = "This setting is only available when using an external Baro sensor. Recommended value: 64"

    boostIntv       = "The closed loop control interval will run every this many ms. Generally values between 50% and 100% of the valve frequency work best"
    VVTasOnOff      = "Whether or not the VVT table should be treated as on and off control only. If you are using the VVT map to control a switch, this should be Yes. If you are using the VVT control to drive a PWM signal, this should be No"

    stagedInjSizePri= "Size of the primary injectors. The sum of the Pri and Sec injectors values MUST match the value used in the req_fuel calculation"
    stagedInjSizeSec= "Size of the secondary injectors. The sum of the Pri and Sec injectors values MUST match the value used in the req_fuel calculation"
#if resetcontrol_adv
  resetControl = "How to control the Arduino's automatic reset feature. NOTE: Some of these settings require modifying your hardware and replacing the Arduino bootloader. See the Wiki for more details.\n\nDisabled: Allow the Arduino to reset when a new serial connection is made.\n\nPrevent When Running: Hold the control pin high while the engine is running.\n\nPrevent Always: Always hold the control pin high.\n\nSerial Command: Normally hold the control pin high, but pull it low when the 'U' serial command is issued and reset upon receiving more data."
#else
  resetControl = "If set to Serial Command, normally hold the control pin high but pull it low when the 'U' serial command is issued and reset upon receiving more data. The control pin should be connected to the Arduino's reset pin."
#endif
  resetControlPin       = "The Arduino pin used to control resets."

[UserDefined]

; Enhanced TunerStudio dialogs can be defined here
; MegaTune will over look this section
; These dialogs will over-ride those in the UserDefined Section
; User defined ar loaded first, then if one by the same name is defiend here,
; it will replace the MegaTune definition

; dialog = name,   Title, Layout
;
; valid options for layout are xAxis, yAxis, border
; for an xAxis, each field added will be added from right to left
; A yAxis layout will add fields from top to bottom
; A border layout will expect an additional constraint to determine placement
; valid border constraints are north, South, East, West, Center
; all 5 do not need to be filled.

; The field name can be either a constant reference, or a reference to another
; dialog which will be added.
; dialogs can be nested and can be mixed with fields

    dialog = engine_constants_southwest, "Speeduino Board"
        field = "Stoichiometric ratio", stoich
        field = "Injector Layout",      injLayout,           { nCylinders <= 4 }
        field = "Board Layout",         pinLayout
        field = "MAP Sample method",    mapSample

    dialog = engine_constants_west, ""
        panel = std_injection, North
        panel = engine_constants_southwest

    dialog = engine_constants_northeast, "Oddfire Angles"
        field = "Channel 2 angle", oddfire2,                { engineType == 1 }
        field = "Channel 3 angle", oddfire3,                { engineType == 1 && nCylinders >= 3 }
        field = "Channel 4 angle", oddfire4,                { engineType == 1 && nCylinders >= 4 }

    dialog = engine_constants_east, ""
        panel = engine_constants_northeast, North
        field = ""

    dialog = engine_constants, "", border
        panel = engine_constants_west, West
        panel = engine_constants_east, East

; Knock control settings
    dialog = knock_windows, "Knock Windows", xAxis
        panel = knock_window_angle_curve, West, { knock_mode }
        panel = knock_window_duration_curve, East, { knock_mode }

    dialog = knock_settings_west, "Settings", yAxis
        field = "Knock Mode",               knock_mode
        field = "Knock Pin",                knock_pin,          { knock_mode }
        field = "Knock active when pin is", knock_trigger,      { knock_mode == 1 }
        field = "Use pullup",               knock_pullup,       { knock_mode == 1 }

    dialog = knock_settings_east, "Detection and Response"
        field = "#Detection"
        field = "Knock count required",     knock_count,        { knock_mode == 1}
        field = "Knock threshold required", knock_threshold,    { knock_mode == 2}
        field = "Maximum MAP",              knock_maxMAP,       { knock_mode }
        field = "Maximum RPM",              knock_maxRPM,       { knock_mode }
        
        ;Retard and recovery
        field = "#Retard"
        field = "Total retard",             knock_maxRetard,    { knock_mode }
        field = "First step size",          knock_firstStep,    { knock_mode }
        field = "Other step size",          knock_stepSize,     { knock_mode }
        field = "Step time",                knock_stepTime,     { knock_mode }
        
        field = "#Recovery"
        field = "Retard duration",          knock_duration,     { knock_mode } ;Time before retard starts ending
        field = "Recovery step time",       knock_recoveryStepTime,     { knock_mode } ;Time between each recovery step
        field = "Recovery step size",       knock_recoveryStep, { knock_mode }

    dialog = knock_settings_top, "", xAxis
        panel = knock_settings_west, West
        panel = knock_settings_east, East

    dialog = knockSettings, "", border
        topicHelp = "http://speeduino.com/wiki/index.php/Knock"
        panel = knock_settings_top, North
        panel = knock_windows, South
        
    dialog = accelEnrichments_center, ""
      field = "TPSdot Threshold",       tpsThresh
      field = "Accel Time",             taeTime
      field = "Taper Start RPM",        taeTaperMin
      field = "Taper End RPM",          taeTaperMax

    dialog = accelEnrichments_south, "Decelleration Fuel Cutoff (DFCO)"
      field = "Enabled", dfcoEnabled
      field = "TPS Threshold", dfcoTPSThresh,                     { dfcoEnabled }
      field = "Cutoff RPM", dfcoRPM,                           { dfcoEnabled }
      field = "RPM Hysteresis", dfcoHyster,                       { dfcoEnabled }

    dialog = accelEnrichments_north_south, ""
      liveGraph = pump_ae_Graph, "AE Graph"
            graphLine = afr
            graphLine = TPSdot, "%", -2000, 2000, auto, auto

    dialog = accelEnrichments_north, "", xAxis
      panel = time_accel_tpsdot_curve

    dialog = accelEnrichments, "Acceleration Enrichment"
        topicHelp = "http://speeduino.com/wiki/index.php/Acceleration_Wizard"
        panel = accelEnrichments_north, North
        panel = accelEnrichments_north_south, Center
        panel = accelEnrichments_center, Center
        panel = accelEnrichments_south, South

    dialog = veTableDialog_north, ""
        panel = veTable1Tbl

    dialog = veTableDialog_south, ""
        field = "Multiply VE value by MAP:Baro ratio", multiplyMAP
        field = "Multiply by ratio of AFR to Target AFR", includeAFR,         { egoType == 2 }

    dialog = veTableDialog, "VE Table"
        panel = veTableDialog_north, North
        panel = veTableDialog_south, South

   dialog = injChars, "Injector Characteristics"
      field = "Injector Open Time",         injOpen
      panel = injector_voltage_curve

    dialog = egoControl, ""
        topicHelp = "http://speeduino.com/wiki/index.php/AFR/O2"
        field = "Sensor Type",            egoType
        field = "Algorithm",              egoAlgorithm,       { egoType }
        field = "Ignition Events per Step",  egoCount,        { egoType && (egoAlgorithm < 3) }
        field = "Controller Auth +/-",    egoLimit,           { egoType && (egoAlgorithm < 3) }
        field = "Only correct above:",    ego_min,    { egoType && (egoAlgorithm < 3) }
        field = "and correct below:",     ego_max,    { egoType && (egoAlgorithm < 3) }

        field = "Active Above Coolant", egoTemp,              { egoType && (egoAlgorithm < 3) }
        field = "Active Above RPM",          egoRPM,          { egoType && (egoAlgorithm < 3) }
        field = "Active Below TPS",          egoTPSMax,      { egoType && (egoAlgorithm < 3) }
        field = "EGO delay after start",     ego_sdelay,      { (egoAlgorithm < 3) }
        field = "PID Proportional Gain",  egoKP,              { egoType && (egoAlgorithm == 2) }
        field = "PID Integral",           egoKI,              { egoType && (egoAlgorithm == 2) }
        field = "PID Derivative",         egoKD,              { egoType && (egoAlgorithm == 2) }

    dialog = pwm_idle, "PWM Idle"
        field = "Number of outputs",    iacChannels,            { iacAlgorithm == 2 || iacAlgorithm == 3 }
    	field = "Idle valve frequency",	idleFreq,				{ iacAlgorithm == 2 || iacAlgorithm == 3 }
    	field = "Idle valve direction", iacPWMdir,				{ iacAlgorithm == 2 || iacAlgorithm == 3 }

    dialog = closedloop_idle, "Closed loop Idle"
        field = "P",                    idleKP,                 { iacAlgorithm == 3 || iacAlgorithm == 5 }
        field = "I",                    idleKI,                 { iacAlgorithm == 3 || iacAlgorithm == 5 }
        field = "D",                    idleKD,                 { iacAlgorithm == 3 || iacAlgorithm == 5 }
        field = "Minimum valve duty",   iacCLminDuty,           { iacAlgorithm == 3 }
        field = "Maximum valve duty",   iacCLmaxDuty,           { iacAlgorithm == 3 }

    dialog = idleSettings, "Idle Settings"
	    topicHelp = "http://speeduino.com/wiki/index.php/Idle"
	    field = "Idle control type",    iacAlgorithm
        field = "#Fast Idle"
        field = "Fast idle temp",       iacFastTemp,            { iacAlgorithm == 1 }
        panel = pwm_idle
        panel = stepper_idle
        panel = closedloop_idle

    dialog = idleUpSettings, "Idle Up Settings"
        field = "Idle Up Enabled",      idleUpEnabled
        field = "Idle Up Pin",          idleUpPin,              { idleUpEnabled }
        field = "Idle Up Pin Polarity", idleUpPolarity,         { idleUpEnabled }
        field = "Idle Up Amount",       idleUpAdder,            { idleUpEnabled }

    dialog = crankingEnrichDialog, "Cranking Enrichment", yAxis
        panel = cranking_enrich_curve
        field = "#Note"
        field = "Values are specified as modifiers to the normal fueling. Eg 100% = No change."

    dialog = crankingIgnOptions, "Cranking Timing", yAxis
        field = "Cranking advance Angle",       CrankAng,       { ignCranklock == 0 }
        field = "Cranking bypass", ignBypassEnable
        field = "Bypass output pin", ignBypassPin               { ignBypassEnable }
        field = "Fix cranking timing with trigger", ignCranklock,   { TrigPattern == 1 || TrigPattern == 4 || TrigPattern == 10 || TrigPattern == 9 }

    dialog = crankingOptions, "", yAxis
        field = "Cranking RPM (Max)", crankRPM
        field = "Flood Clear level", tpsflood

    dialog = crankPW, "Cranking Settings", yAxis
        topicHelp = "http://speeduino.com/wiki/index.php/Cranking"
        panel = crankingOptions, North
        panel = crankingEnrichDialog, Center
        panel = crankingIgnOptions, South


    dialog = aseSettings, "Afterstart Enrichment"
        field = "Enrichment %", asePct
        field = "Number of Sec to run", aseCount

    dialog = sparkSettings,"Spark Settings",4
        field = "Ignition load source",         ignAlgorithm
        field = "Spark output mode",            sparkMode
        field = "Cranking advance Angle",       CrankAng
        field = "Spark Outputs triggers",        IgInv
        field = ""
        field = "Enabled Fixed/Locked timing",  fixAngEnable
        field = "Fixed Angle",                  FixAng,         { fixAngEnable }
        field = "#Note: During cranking the fixed/locked timing angle is overriden by the Cranking advance angle value above"
        field = ""
        field = "#The below option is currently in testing! If unsure what this is, please set to No"
        field = "Use new ignition mode",  perToothIgn,  {TrigPattern == 0 || TrigPattern == 1 || TrigPattern == 2 || TrigPattern == 4 || TrigPattern == 12 || TrigPattern == 13 } ;Only works for missing tooth, distributor, dual wheel, 4g63, nissan 360, Subaru 6/7

    dialog = boostCut, "Boost Cut"
        field = "Boost Cut",                boostCutType
        field = "Boost Limit",              boostLimit,         { boostCutType }

    dialog = boostLoad, ""
        field = "Mode",                     boostType
        field = "In open loop mode, the values in this table are duty cycle %"
        field = "In closed loop mode, the values are boost targets in kPa"
        panel = boostTbl

    dialog = RevLimiterS,                   "Rev Limiter",      4
        topicHelp = "http://speeduino.com/wiki/index.php/Rev_Limits"
        field = "Rev Limiter"
        field = "Soft rev limit",             SoftRevLim
        field = "Soft limit absolute timing", SoftLimRetard
        field = "Soft limit max time",        SoftLimMax
        field = "Hard Rev limit",             HardRevLim
        field = "Hard limiter method",        hardCutType
        panel = boostCut

    dialog = clutchInput,                   "Clutch input"
        field = "Clutch Input Pin",             launchPin,      { launchEnable || flatSEnable }
        field = "Clutch enabled when signal is",launchHiLo,     { launchEnable || flatSEnable }
	      field = "Clutch Pullup Resistor",       lnchPullRes,    { launchEnable || flatSEnable }
	      field = "Launch / Flat Shift switch RPM",flatSArm,      { launchEnable || flatSEnable }

    dialog = LaunchControl,                   "Launch Control / Flat shift",      6
        topicHelp = "http://speeduino.com/wiki/index.php/Launch_Flatshift"
        panel = clutchInput
        ; Launch control
        field = "Launch Control"
        field = "Enable Launch",                launchEnable
		field = "TPS threshold",                lnchCtrlTPS,    { launchEnable }
        field = "Soft rev limit",               lnchSoftLim,    { launchEnable }
        field = "Soft limit absolute timing",   lnchRetard,     { launchEnable }
        field = "Hard rev limit",               lnchHardLim,    { launchEnable }
        field = "Fuel adder during launch",     lnchFuelAdd,    { launchEnable }

        ; Flat shift
        field = "Flat Shift"
        field = "Enable flat shift",            flatSEnable
        field = "Soft rev window",              flatSSoftWin,   { flatSEnable }
        field = "Soft limit absolute timing",   flatSRetard,    { flatSEnable }

    dialog = NitrousStage1,                 "Stage 1"
        field = "Nitrous Output Pin",           n2o_stage1_pin
        field = "Minimum Engage RPM",           n2o_stage1_minRPM
        field = "Maximum Engage RPM",           n2o_stage1_maxRPM
        field = "Fuel adder @ Min RPM",         n2o_stage1_adderMin
        field = "Fuel adder @ Max RPM",         n2o_stage1_adderMax
        field = "Ignition retard when active",  n2o_stage1_retard

    dialog = NitrousStage2,                 "Stage 2"
        field = "Nitrous Output Pin",           n2o_stage2_pin
        field = "Minimum Engage RPM",           n2o_stage2_minRPM
        field = "Maximum Engage RPM",           n2o_stage2_maxRPM
        field = "Fuel adder @ Min RPM",         n2o_stage2_adderMin
        field = "Fuel adder @ Max RPM",         n2o_stage2_adderMax
        field = "Ignition retard when active",  n2o_stage2_retard

    dialog = NitrousMain,                   "Settings"
        field = "Nitrous Mode",                 n2o_enable
        field = "Arming Pin",                   n2o_arming_pin, { n2o_enable > 0 }
        field = "Nitrous is armed when pin is", n2o_pin_polarity,{ n2o_enable > 0 }
        field = "Minimum CLT",                  n2o_minCLT,     { n2o_enable > 0 }
        field = "Minimum TPS",                  n2o_minTPS,     { n2o_enable > 0 }
        field = "Maximum MAP",                  n2o_maxMAP,     { n2o_enable > 0 }
        field = "Leanest AFR",                  n2o_maxAFR,     { n2o_enable > 0 }

    dialog = NitrousControl,                "Nitrous"
        panel = NitrousMain,                North
        panel = NitrousStage1,              West,   { n2o_enable > 0 }
        panel = NitrousStage2,              East,   { n2o_enable > 1 }


    dialog = OLED, "OLED Display", 2
      field = "Display Type",               display
      field = "#Note"
      field = "ECU must be rebooted after changing above value"
      field = "Field 1",                    display1,   { display }
      field = "Field 2",                    display2,   { display }
      field = "Field 3",                    display3,   { display }
      field = "Field 4",                    display4,   { display }
      ;field = "Bar 1",                      displayB1,  { display }
      ;field = "Bar 2",                      displayB2,  { display > 2 }

    dialog = mapCal, "Calibrate MAP"
          field = "#MAP Sensor"
          settingSelector = "Common Pressure Sensors"
             settingOption = "MPX4115",  mapMin=10,   mapMax=118 ; https://www.nxp.com/docs/en/data-sheet/MPX4115.pdf
             settingOption = "MPX4250",  mapMin=10,   mapMax=260 ; https://www.nxp.com/docs/en/data-sheet/MPX4250A.pdf Vout = VCC x (P x 0.004  0.04)
             settingOption = "GM 1-BAR", mapMin=10,   mapMax=105 ; https://speeduino.com/wiki/index.php/File:GM_Table.gif
             settingOption = "GM 2-BAR", mapMin=9,  mapMax=208 ; https://speeduino.com/wiki/index.php/File:GM_Table.gif
             settingOption = "GM 3-BAR", mapMin=1,  mapMax=315 ; VOUT = VS*(.00318*P-.00353)
             settingOption = "MPXH6300", mapMin=1,  mapMax=315 ; https://www.nxp.com/docs/en/data-sheet/MPXH6300A.pdf VOUT = VS*(.00318*P-.00353)
             settingOption = "MPX5700", mapMin=-31,  mapMax=746 ; https://www.nxp.com/docs/en/data-sheet/MPX5700.pdf Vout = VS*(0.0012858*P+0.04)
             settingOption = "MPX6400", mapMin=3,  mapMax=416 ; https://www.nxp.com/docs/en/data-sheet/MPXH6400A.pdf VOUT = VS x (0.002421xP0.00842)
             settingOption = "Denso 079800", mapMin=0,  mapMax=173 ; http://speeduino.com/forum/viewtopic.php?f=18&t=510&p=7023#p7021
             settingOption = "VW/Audi/Porsche 250kPa", mapMin=26,  mapMax=250 ; http://speeduino.com/forum/viewtopic.php?p=17502#p17502
             settingOption = "Bosch 3 Bar TMAP", mapMin=-6,  mapMax=323

          field =    "kPa At 0.0 Volts",   mapMin
          field =    "kPa At 5.0 Volts",   mapMax

          field = "#Baro Sensor"
          field = "Use external Baro sensor", useExtBaro
          field = "Analog pin to use for ext. Baro sensor", baroPin,  { useExtBaro }

          settingSelector = "Common Pressure Sensors",  { useExtBaro }
             settingOption = "MPX4115",  baroMin=10,   baroMax=118 ; https://www.nxp.com/docs/en/data-sheet/MPX4115.pdf
             settingOption = "MPX4250",  baroMin=10,   baroMax=260 ; https://www.nxp.com/docs/en/data-sheet/MPX4250A.pdf Vout = VCC x (P x 0.004  0.04)
             settingOption = "GM 1-BAR", baroMin=10,   baroMax=105 ; https://speeduino.com/wiki/index.php/File:GM_Table.gif
             settingOption = "GM 2-BAR", baroMin=9,  baroMax=208 ; https://speeduino.com/wiki/index.php/File:GM_Table.gif
             settingOption = "GM 3-BAR", baroMin=1,  baroMax=315 ; VOUT = VS*(.00318*P-.00353)
             settingOption = "MPXH6300", baroMin=1,  baroMax=315 ; https://www.nxp.com/docs/en/data-sheet/MPXH6300A.pdf VOUT = VS*(.00318*P-.00353)
             settingOption = "MPX5700", baroMin=-31,  baroMax=746 ; https://www.nxp.com/docs/en/data-sheet/MPX5700.pdf Vout = VS*(0.0012858*P+0.04)
             settingOption = "MPX6400", baroMin=3,  baroMax=416 ; https://www.nxp.com/docs/en/data-sheet/MPXH6400A.pdf VOUT = VS x (0.002421xP0.00842)
             settingOption = "Denso 079800", baroMin=0,  baroMax=173 ; http://speeduino.com/forum/viewtopic.php?f=18&t=510&p=7023#p7021
             settingOption = "VW/Audi/Porsche 250kPa", baroMin=26,  baroMax=250 ; http://speeduino.com/forum/viewtopic.php?p=17502#p17502
             settingOption = "Bosch 3 Bar TMAP", mapMin=-6,  mapMax=323

          field =    "kPa At 0.0 Volts",   baroMin,  { useExtBaro }
          field =    "kPa At 5.0 Volts",   baroMax,  { useExtBaro }

          field = "#EMAP Sensor"
          field = "Use EMAP sensor", useEMAP
          field = "Analog pin to use for ext. Baro sensor", EMAPPin,  { useEMAP }

          settingSelector = "Common Pressure Sensors",  { useEMAP }
             settingOption = "MPX4115",  EMAPMin=10,   EMAPMax=118 ; https://www.nxp.com/docs/en/data-sheet/MPX4115.pdf
             settingOption = "MPX4250",  EMAPMin=10,   EMAPMax=260 ; https://www.nxp.com/docs/en/data-sheet/MPX4250A.pdf Vout = VCC x (P x 0.004  0.04)
             settingOption = "GM 1-BAR", EMAPMin=10,   EMAPMax=105 ; https://speeduino.com/wiki/index.php/File:GM_Table.gif
             settingOption = "GM 2-BAR", EMAPMin=9,  EMAPMax=208 ; https://speeduino.com/wiki/index.php/File:GM_Table.gif
             settingOption = "GM 3-BAR", EMAPMin=1,  EMAPMax=315 ; VOUT = VS*(.00318*P-.00353)
             settingOption = "MPXH6300", EMAPMin=1,  EMAPMax=315 ; https://www.nxp.com/docs/en/data-sheet/MPXH6300A.pdf VOUT = VS*(.00318*P-.00353)
             settingOption = "MPX5700", EMAPMin=-31,  EMAPMax=746 ; https://www.nxp.com/docs/en/data-sheet/MPX5700.pdf Vout = VS*(0.0012858*P+0.04)
             settingOption = "MPX6400", EMAPMin=3,  EMAPMax=416 ; https://www.nxp.com/docs/en/data-sheet/MPXH6400A.pdf VOUT = VS x (0.002421xP0.00842)
             settingOption = "Denso 079800", EMAPMin=0,  EMAPMax=173 ; http://speeduino.com/forum/viewtopic.php?f=18&t=510&p=7023#p7021
             settingOption = "VW/Audi/Porsche 250kPa", EMAPMin=26,  EMAPMax=250 ; http://speeduino.com/forum/viewtopic.php?p=17502#p17502

          field =    "kPa At 0.0 Volts",   EMAPMin,  { useEMAP }
          field =    "kPa At 5.0 Volts",   EMAPMax,  { useEMAP }

    dialog = sensorFilters, "Analog sensor filters"
        field = "The values here set the amount of filtering to apply to each analog input"
        field = "Higher values result in stronger filtering, but slower response times for readings"
        field = "#Most setups will NOT require changes to the default filter values"
        field = ""
        slider = "Throttle Position Sensor",    ADCFILTER_TPS,  horizontal
        slider = "Coolant Sensor",              ADCFILTER_CLT,  horizontal
        slider = "Inlet Air Temp sensor",       ADCFILTER_IAT,  horizontal
        slider = "O2 sensor",                   ADCFILTER_O2,   horizontal
        slider = "Battery voltage",             ADCFILTER_BAT,  horizontal
        slider = "MAP sensor",                  ADCFILTER_MAP,  horizontal
        slider = "Baro sensor",                 ADCFILTER_BARO, horizontal, { useExtBaro > 0 }

    dialog = boostSettings, "Boost Control"
        topicHelp = "http://speeduino.com/wiki/index.php/Boost_Control"
        field = "Boost Control Enabled",    boostEnabled
        field = "Boost control type",       boostType
        field = "Boost output pin",         boostPin,           { boostEnabled }
        field = "Boost solenoid freq.",     boostFreq,          { boostEnabled }

        field = "Valve minimum duty cycle", boostMinDuty,  { boostEnabled && boostType == 1 }
        field = "Valve maximum duty cycle", boostMaxDuty,  { boostEnabled && boostType == 1 }
        panel = boostCut
        field = "Closed Loop settings"
        field = "Control mode",             boostMode,          { boostEnabled && boostType == 1 }
        slider = "Sensitivity",             boostSens,     horizontal, { boostEnabled && boostType == 1 }
        field = "Control interval",         boostIntv,     { boostEnabled && boostType == 1 }
        field = "P",                        boostKP,       { boostEnabled && boostMode && boostType == 1 }
        field = "I",                        boostKI,       { boostEnabled && boostMode && boostType == 1 }
        field = "D",                        boostKD,       { boostEnabled && boostMode && boostType == 1 }


    dialog = vvtSettings, "VVT Control"
        field = "VVT Control Enabled",    vvtEnabled
        field = "Use VVT map as On / Off only", VVTasOnOff, { vvtEnabled }
        field = "VVT output pin",         vvtPin,           { vvtEnabled }
        field = "VVT solenoid freq.",     vvtFreq,          { vvtEnabled }


    dialog = warmup, "Warmup Enrichment (WUE) - Percent Multiplier"
        panel = warmup_curve
        field = "Final enrichment value must be 100%."
        field = ""
        panel = aseSettings

    ;Fuel trim composite dialog
    dialog = inj_trim1TblTitle, "Channel #1"
        panel = fuelTrimTable1Tbl,      { fuelTrimEnabled }
    dialog = inj_trim2TblTitle, "Channel #2"
        panel = fuelTrimTable2Tbl,      { fuelTrimEnabled }
    dialog = inj_trim3TblTitle, "Channel #3"
        panel = fuelTrimTable3Tbl,      { fuelTrimEnabled }
    dialog = inj_trim4TblTitle, "Channel #4"
        panel = fuelTrimTable4Tbl,      { fuelTrimEnabled }

    dialog = inj_trimadt, "", xAxis
        panel = inj_trim1TblTitle
        panel = inj_trim2TblTitle
    dialog = inj_trimadb, "", xAxis
        panel = inj_trim3TblTitle
        panel = inj_trim4TblTitle

    dialog = inj_trim_enable, ""
        field = "Individual fuel trim enabled",     fuelTrimEnabled,    { injLayout == 3 }

    dialog = inj_trimad,"Injector Cyl 1-4 Trims", yAxis
        panel = inj_trim_enable, North
        panel = inj_trimadt, Center
        panel = inj_trimadb, South

    ;;Injector staging
    dialog = stagingTableDialog_north, ""
        field = "Staging enabled", stagingEnabled
        field = "Staging mode",   stagingMode
        field = "Size of primary injectors",    stagedInjSizePri,             { stagingEnabled }
        field = "Size of secondary injectors",  stagedInjSizeSec,             { stagingEnabled }

    dialog = stagingTableDialog_south, ""
        panel = stagingTbl,     { stagingMode == 0 }

    dialog = stagingTableDialog, "Staged injection"
        topicHelp = "https://speeduino.com/wiki/index.php/Staged_Injection"
        panel = stagingTableDialog_north, North
        panel = stagingTableDialog_south, South

    dialog = outputtest_warningmessage, ""
        field = "WARNING! USE AT YOUR OWN RISK. INCORRECT USE WILL DAMAGE YOUR HARDWARE!"
        field = "Do not attempt to use this page whilst your engine is running!"
        field = "Forcing the Injector or Spark outputs could cause flooding of your engine or permanent damage to ignition coils!"


	dialog = enableoutputtestbuttons, "Enable Test Controls", xAxis
		;commandButton = "Label Text", command, { Enabled Condition }, optionalFlags

		; The rem > 0 expression is just for testing.. It works when the arduino is on the Stim with rpm.
		; a status bit there would be the expected real expression
		commandButton = "Enable Test Mode", cmdEnableTestMode,{!testenabled & !testactive }

		; if clickOnCloseIfEnabled is set, then the command assigned to this button will be run on the
		; dialog close, but only if the enable condition is true
		; valid click flags are:
		; clickOnCloseIfEnabled - the command will be sent on dialog close if active condition is true
		; clickOnCloseIfDisabled - the command will be sent on dialog close if active condition is false
		; clickOnClose - the command will be sent on dialog close always
		commandButton = "Stop Test Mode", cmdStopTestMode,{testactive}, clickOnCloseIfEnabled

	dialog = outputtestinj1, "Injector CH1", yAxis
        commandButton = "Off", cmdtestinj1off,{testactive}
        commandButton = "50% DC", cmdtestinj150dc,{!testenabled & testactive}
        commandButton = "On", cmdtestinj1on,{!testenabled & testactive}
    dialog = outputtestinj2, "Injector CH2", yAxis
        commandButton = "Off", cmdtestinj2off,{testactive}
        commandButton = "50% DC", cmdtestinj250dc,{!testenabled &testactive}
        commandButton = "On", cmdtestinj2on,{!testenabled & testactive}
    dialog = outputtestinj3, "Injector CH3", yAxis
        commandButton = "Off", cmdtestinj3off,{testactive}
        commandButton = "50% DC", cmdtestinj350dc,{!testenabled & testactive}
        commandButton = "On", cmdtestinj3on,{!testenabled & testactive}
    dialog = outputtestinj4, "Injector CH4", yAxis
        commandButton = "Off", cmdtestinj4off,{testactive}
        commandButton = "50% DC", cmdtestinj450dc,{!testenabled & testactive}
        commandButton = "On", cmdtestinj4on	,{!testenabled & testactive}

    dialog = outputtest_injectors, "Injector Driver Output Test", xAxis
        panel = outputtestinj1
        panel = outputtestinj2
        panel = outputtestinj3
        panel = outputtestinj4

	dialog = outputtestspk1, "Spark CH1 ", yAxis
        commandButton = "Off", cmdtestspk1off,{testactive}
        commandButton = "50% DC", cmdtestspk150dc,{!testenabled & testactive}
        commandButton = "On", cmdtestspk1on,{!testenabled & testactive}
    dialog = outputtestspk2, "Spark CH2", yAxis
        commandButton = "Off", cmdtestspk2off,{testactive}
        commandButton = "50% DC", cmdtestspk250dc,{!testenabled & testactive}
        commandButton = "On", cmdtestspk2on,{!testenabled & testactive}
    dialog = outputtestspk3, "Spark CH3", yAxis
        commandButton = "Off", cmdtestspk3off,{testactive}
        commandButton = "50% DC", cmdtestspk350dc,{!testenabled & testactive}
        commandButton = "On", cmdtestspk3on,{!testenabled & testactive}
	dialog = outputtestspk4, "Spark CH4", yAxis
        commandButton = "Off", cmdtestspk4off,{testactive}
        commandButton = "50% DC", cmdtestspk450dc,{!testenabled & testactive}
        commandButton = "On", cmdtestspk4on,{!testenabled & testactive}

    dialog = outputtest_spark, "Spark Driver Output Test", xAxis
        panel = outputtestspk1
        panel = outputtestspk2
        panel = outputtestspk3
        panel = outputtestspk4

	dialog = outputtest1,"Test Output Hardware"
        topicHelp = "http://speeduino.com/wiki/index.php/Hardware_testing_page"
        panel = enableoutputtestbuttons
        panel = outputtest_injectors
        panel = outputtest_spark
        ;panel = outputtest_io2
        panel = outputtest_warningmessage
;-------------------------------------------------------------------------------
; General help text

       help = helpGeneral, "Speeduino General Help"
        webHelp = "http://speeduino.com/wiki/index.php/Speeduino"
        text = "For current WIKI documentation, click the Web Help button,"
        text = "or visit http://www.speeduino.com/."
        text = "<br>"
        text = "<br>why not visit our forum http://speeduino.com/forum/"
;------------------------------------------------------------------------------
[ControllerCommands]
; commandName    = command1, command2, commandn...
; command in standard ini format, a command name can be assigned to 1 to n commands that will be executed in order.
;         This does not include any resultant protocol envelope data, only the response data itself.

; WARNING!! These commands bypass TunerStudio's normal memory synchronization. If these commands
; alter mapped settings (Constant) memory in the controller, TunerStudio will have an out of sync condition
; and may create error messages.
; It is expected that these commands would not typically alter any ram mapped to a Constant.

cmdStopTestMode = "E\x01\x00"
cmdEnableTestMode = "E\x01\x01"

cmdtestinj1on = "E\x02\x01"
cmdtestinj1off = "E\x02\x02"
cmdtestinj150dc = "E\x02\x03"
cmdtestinj2on = "E\x02\x04"
cmdtestinj2off = "E\x02\x05"
cmdtestinj250dc = "E\x02\x06"
cmdtestinj3on = "E\x02\x07"
cmdtestinj3off = "E\x02\x08"
cmdtestinj350dc = "E\x02\x09"
cmdtestinj4on = "E\x02\x0A"
cmdtestinj4off = "E\x02\x0B"
cmdtestinj450dc = "E\x02\x0C"

cmdtestspk1on = "E\x03\x01"
cmdtestspk1off = "E\x03\x02"
cmdtestspk150dc = "E\x03\x03"
cmdtestspk2on = "E\x03\x04"
cmdtestspk2off = "E\x03\x05"
cmdtestspk250dc = "E\x03\x06"
cmdtestspk3on = "E\x03\x07"
cmdtestspk3off = "E\x03\x08"
cmdtestspk350dc = "E\x03\x09"
cmdtestspk4on = "E\x03\x0A"
cmdtestspk4off = "E\x03\x0B"
cmdtestspk450dc = "E\x03\x0C"

; -------------------------------------------------------------
; Help down here
[SettingContextHelp]


[CurveEditor]

;time-based accel enrichment
      curve = time_accel_tpsdot_curve, "TPS based AE"
            columnLabel = "TPSdot", "Added"
            xAxis = 0, 1200, 6
            yAxis = 0, 250, 4
            xBins = taeBins, TPSdot
            yBins = taeRates
            ;gauge       = cltGauge

; Correction curve for injectors vs battery voltage
        curve = injector_voltage_curve, "Injector voltage correction"
            columnLabel = "Voltage", "Injector"
            xAxis = 6, 22, 6
            yAxis = 0, 255, 6
            xBins = brvBins, batteryVoltage
            yBins = injBatRates

; Correction curve for Air Density vs temperature
        curve = airdensity_curve, "IAT density correction"
            columnLabel = "Air Temperature", "Fuel Amount"
            xAxis = -40, 160, 6
            yAxis = 0, 255, 6
            xBins = airDenBins, iat
            yBins = airDenRates

; IAT based ignition timing retard
        curve = iat_retard_curve, "IAT timing retard"
            columnLabel =   "Inlet Air Temp", "Retard"
            xAxis = -40, 200, 5
            yAxis = 0, 30, 5
            xBins = iatRetBins, iat
            yBins = iatRetRates

; Curves for idle control
        ; Standard duty table for PWM valves
        curve = iacPwm_curve, "IAC PWM Duty"
            columnLabel = "Coolant Temperature", "Valve"
            xAxis = -40, 215, 6
            yAxis = 0, 100, 4
            xBins = iacBins, coolant
            yBins = iacOLPWMVal

        ; Cranking duty table for PWM valves
        curve = iacPwmCrank_curve, "IAC PWM Cranking Duty"
            columnLabel = "Coolant Temperature", "Valve"
            xAxis = -40, 215, 6
            yAxis = 0, 100, 4
            xBins = iacCrankBins, coolant
            yBins = iacCrankDuty

        curve = iacStep_curve, "IAC Stepper Motor"
        	columnLabel = "Coolant Temperature", "Motor"
            xAxis = -40, 215, 6
            yAxis = 0, 850, 4
            xBins = iacBins, coolant
            yBins = iacOLStepVal

        curve = iacStepCrank_curve, "IAC Stepper Motor Cranking"
        	columnLabel = "Coolant Temperature", "Motor"
            xAxis = -40, 120, 6
            yAxis = 0, 850, 4
            xBins = iacCrankBins, coolant
            yBins = iacCrankSteps

        curve = iacClosedLoop_curve, "IAC Closed Loop Targets"
            columnLabel = "Coolant Temperature", "Motor"
            xAxis = -40, 120, 6
            yAxis = 0, 2000, 4
            xBins = iacBins, coolant
            yBins = iacCLValues

; Warmup enrichment curve
        curve = warmup_curve, "Warmup Enrichment (WUE) Curve"
            columnLabel = "Coolant", "WUE %"
            xAxis       = -40, 210, 9
            yAxis       =   0,  240, 6
            xBins       = wueBins, coolant
            yBins       = wueRates
            gauge       = cltGauge

; Cranking enrichment curve
        curve = cranking_enrich_curve, "Cranking Enrichment Curve"
            columnLabel = "Coolant", "Fuel Modifier"
            xAxis       = -40, 110, 9
            yAxis       =   0,  200, 6
            xBins       = crankingEnrichBins, coolant
            yBins       = crankingEnrichValues
            ;gauge       = cltGau25

; Warmup enrichment VEAL AFR adjustment curve (Not currently working)
        ;curve = warmup_afr_curve, "AFR Target Temperature Adustment"
        ;    columnLabel = "Coolant Temp", "AFR Offset %"
        ;    xAxis       = -40, 210, 9
        ;    yAxis       =   0,  240, 6
        ;    xBins       = wueAFRBins, coolant
        ;    yBins       = wueAFRRates

; Flex fuel correction curves
        curve = flex_fuel_curve, "Flex Fuel Adjustments"
            columnLabel    = "Ethanol", "Fuel"
            xAxis          = 0, 100, 10
            yAxis          = 50, 250, 5
            xBins          = flexFuelBins, flex
            yBins          = flexFuelAdj
            size           = 400, 200

        curve = flex_adv_curve, "Flex Timing Advance"
            columnLabel    = "Ethanol", "Advance"
            xAxis		   = 0, 100, 10
            yAxis          = 0, 50, 5
            xBins          = flexAdvBins, flex
            yBins          = flexAdvAdj
            size           = 400, 200

        curve = flex_boost_curve, "Flex Boost Adjustments"
            columnLabel    = "Ethanol", "Boost"
            xAxis		   = 0, 100, 10
            yAxis          = -100, 200, 5
            xBins          = flexBoostBins, flex
            yBins          = flexBoostAdj
            size           = 400, 200

;Knock sensor windows
        curve = knock_window_angle_curve, "Knock Window"
            columnLabel    = "RPM", "Window Start"
            xAxis		   = 0, 8000, 9
            yAxis          = -100, 100, 11
            xBins          = knock_window_rpms, rpm
            yBins          = knock_window_angle
            size           = 400, 200

        curve = knock_window_duration_curve, "Knock Window Duration"
            columnLabel    = "RPM", "Window Duration"
            xAxis		   = 0, 8000, 9
            yAxis          = 0, 100, 10
            xBins          = knock_window_rpms, rpm
            yBins          = knock_window_dur
            size           = 400, 200

[TableEditor]
   ;       table_id,    map3d_id,    "title",      page
   table = veTable1Tbl,  veTable1Map,  "VE Table",   1
   topicHelp = "http://speeduino.com/wiki/index.php/Tuning"
   ;       constant, variable
      xBins       = rpmBins,  rpm
      yBins       = fuelLoadBins, fuelLoad
      xyLabels    = "RPM", "Fuel Load: "
      zBins       = veTable

      gridHeight  = 2.0
      gridOrient  = 250,   0, 340
      upDownLabel = "(RICHER)", "(LEANER)"

   table = sparkTbl,    sparkMap,    "Ignition Advance Table", 3
      xBins = rpmBins2, rpm
      ;yBins = ignLoadBins, ignLoad
      yBins = mapBins1, ignLoad
      xyLabels    = "RPM", "Ignition Load: "
      zBins = advTable1
      gridHeight  = 3.0
      upDownLabel = "ADVANCING", "RETARDING"

    ;table = afrTbl,    afrTableMap,    "AFR Table", 5
    table = afrTable1Tbl, afrTable1Map, "AFR Table", 5
      xBins = rpmBinsAFR, rpm
    #if SPEED_DENSITY
      yBins = mapBinsAFR, map
    #else ALPHA_N
        yBins = tpsBinsAFR, throttle
    #endif
      zBins = afrTable
      gridHeight  = 1.0
      upDownLabel = "RICHER", "LEANER"
      gridOrient  = 250,   0, 340

      ;#if BOOSTPSI
      ;table = boostTbl,    boostMap,    "Boost targets (PSI)", 8
      ;#else
      ;table = boostTbl,    boostMap,    "Boost targets (Absolute kPa)", 8
      ;#endif
    table = boostTbl,    boostMap,  "Boost Duty / Target", 8
      xBins = rpmBinsBoost, rpm
      yBins = tpsBinsBoost, throttle
      zBins = boostTable
      gridHeight  = 3.0
      upDownLabel = "HIGHER", "LOWER"

    table = vvtTbl,    vvtMap,    "VVT control Table", 8
      xBins = rpmBinsVVT, rpm
      yBins = tpsBinsVVT, throttle
      zBins = vvtTable
      gridHeight  = 3.0
      upDownLabel = "HIGHER", "LOWER"

    table = stagingTbl,    stagingMap,    "Fuel Staging Table", 10
      xBins = rpmBinsStaging, rpm
    #if SPEED_DENSITY
      yBins = mapBinsStaging, map
    #else ALPHA_N
      yBins = tpsBinsStaging, throttle
    #endif
      zBins = stagingTable
      gridHeight  = 3.0
      upDownLabel = "HIGHER", "LOWER"

;--------- Sequential fuel trim maps -----------
    table = fuelTrimTable1Tbl,  fuelTrimTable1Map,  "Fuel trim Table 1",   9
    topicHelp = "http://speeduino.com/wiki/index.php/Tuning"
        xBins       = fuelTrim1rpmBins,  rpm
    #if SPEED_DENSITY
        yBins       = fuelTrim1loadBins,  map
    #else
        yBins       = fuelTrim1loadBins,  throttle
    #endif
       zBins       = fuelTrim1Table

       gridHeight  = 2.0
       gridOrient  = 250,   0, 340
       upDownLabel = "(RICHER)", "(LEANER)"

    table = fuelTrimTable2Tbl,  fuelTrimTable2Map,  "Fuel trim Table 2",   9
    topicHelp = "http://speeduino.com/wiki/index.php/Tuning"
        xBins       = fuelTrim2rpmBins,  rpm
    #if SPEED_DENSITY
        yBins       = fuelTrim2loadBins,  map
    #else
        yBins       = fuelTrim2loadBins,  throttle
    #endif
       zBins       = fuelTrim2Table

       gridHeight  = 2.0
       gridOrient  = 250,   0, 340
       upDownLabel = "(RICHER)", "(LEANER)"

    table = fuelTrimTable3Tbl,  fuelTrimTable3Map,  "Fuel trim Table 3",   9
    topicHelp = "http://speeduino.com/wiki/index.php/Tuning"
        xBins       = fuelTrim3rpmBins,  rpm
    #if SPEED_DENSITY
        yBins       = fuelTrim3loadBins,  map
    #else
        yBins       = fuelTrim3loadBins,  throttle
    #endif
       zBins       = fuelTrim3Table

       gridHeight  = 2.0
       gridOrient  = 250,   0, 340
       upDownLabel = "(RICHER)", "(LEANER)"

    table = fuelTrimTable4Tbl,  fuelTrimTable4Map,  "Fuel trim Table 4",   9
    topicHelp = "http://speeduino.com/wiki/index.php/Tuning"
        xBins       = fuelTrim4rpmBins,  rpm
    #if SPEED_DENSITY
        yBins       = fuelTrim4loadBins,  map
    #else
        yBins       = fuelTrim4loadBins,  throttle
    #endif
       zBins       = fuelTrim4Table

       gridHeight  = 2.0
       gridOrient  = 250,   0, 340
       upDownLabel = "(RICHER)", "(LEANER)"


;-------------------------------------------------------------------------------

[GaugeConfigurations]

   ;-------------------------------------------------------------------------------
   ; Define a gauge's characteristics here, then go to a specific layout
   ; block (Tuning or FrontPage) and use the name you've defined here to
   ; display that gauge in a particular position.
   ;
   ; Name  = Case-sensitive, user-defined name for this gauge configuration.
   ; Var   = Case-sensitive name of variable to be displayed, see the
   ;         OutputChannels block in this file for possible values.
   ; Title = Title displayed at the top of the gauge.
   ; Units = Units displayed below value on gauge.
   ; Lo    = Lower scale limit of gauge.
   ; Hi    = Upper scale limit of gauge.
   ; LoD   = Lower limit at which danger color is used for gauge background.
   ; LoW   = Lower limit at which warning color is used.
   ; HiW   = Upper limit at which warning color is used.
   ; HiD   = Upper limit at which danger color is used.
   ; vd    = Decimal places in displayed value
   ; ld    = Label decimal places for display of Lo and Hi, above.

    gaugeCategory = "Main"
    ;Name               Var            Title                 Units     Lo     Hi     LoD    LoW   HiW   HiD vd ld
    accelEnrichGauge  = accelEnrich,   "Accel Enrich",       "%",      50,   150,     -1,    -1,  999,  999, 0, 0
    dutyCycleGauge    = dutyCycle,     "Duty Cycle",         "%",       0,   100,     -1,    -1,   70,   80, 1, 1
    stgDutyCycleGauge = stgDutyCycle,  "Staging Duty Cycle", "%",       0,   100,     -1,    -1,   70,   80, 1, 1
    egoCorrGauge      = egoCorrection, "EGO Correction",     "%",      50,   150,     90,    99,  101,  110, 0, 0

    gammaEnrichGauge  = gammaEnrich,   "Gamma Enrichment",   "%",      50,   150,     -1,    -1,  151,  151, 0, 0
    pulseWidthGauge   = pulseWidth,    "Pulse Width",        "mSec",    0,  35.0,    1.0,   1.2,   20,   25, 3, 3
    tachometer        = rpm,           "Engine Speed",       "RPM",     0,  8000,    300,   600, 3000, 5000, 0, 0
    veGauge           = veCurr,        "VE Current",         "%",       0,   120,     -1,    -1,  999,  999, 0, 0
    warmupEnrichGauge = warmupEnrich,  "Warmup Enrichment",  "%",     100,   200,    130,   140,  140,  150, 0, 0
    aseEnrichGauge    = ase_enrich,    "Afterstart Enrichment","%",     0,   200,    130,   140,  140,  150, 0, 0
    batCorrectGauge   = batCorrection, "Voltage Correction", "%",       0,   200,    130,   140,  140,  150, 0, 0
    iatCorrectGauge   = airCorrection, "IAT Correction",     "%",       0,   200,    130,   140,  140,  150, 0, 0
    flexEnrich,       = flexFuelCor,   "Flex Correction",    "%",       0,   200,    130,   140,  140,  150, 0, 0
    advanceGauge      = advance,       "Spark Advance",      "deg BTDC", 50, -10,      0,     0,    35,    45, 0, 0
    dwellGauge        = dwell,         "Ign Dwell",          "mSec",    0,  35.0,    1.0,   1.2,   20,   25, 3, 3

    gaugeCategory = "Sensor inputs"
    mapGauge          = map,           "Engine MAP",             "kPa",          0,      255,    0,      20,  200,  245, 0, 0
    mapGauge_psi      = map_psi,       "Engine MAP (PSI)",       "PSI",          -15,    100,    0,      20,  200,  245, 0, 0
    mapGauge_bar      = map_bar,       "Engine MAP (BAR)",       "Bar",          -1,     3,      -1,     -1,    5,  5,  2, 2
    mapGauge_vacBoost = map_vacboost,  "Engine MAP (in-Hg/PSI)", "in-Hg/PSI",    -30,    30,     -30,    -30, 30, 30, 1, 1
    batteryVoltage    = batteryVoltage,"Battery Voltage",        "volts",   0,    25,      8,     9,   15,   16, 2, 2

    tpsADCGauge       = tpsADC,        "TPS ADC",            "",        0,   255,     -1,    -1,  256,  256, 0, 0
    throttleGauge     = throttle,      "Throttle Position",  "%TPS",    0,   100,     -1,     1,   90,  100, 0, 0

    afrGauge          = afr,           "Air:Fuel Ratio",     "",        7,    25,     12,    13,   15,   16, 2, 2
    afrGauge2         = afr2,          "Air:Fuel Ratio 2",   "",        7,    25,     12,    13,   15,   16, 2, 2
    lambdaGauge       = lambda,        "Lambda",             "",      0.5,   1.5,    0.5,   0.7,    2,  1.1, 2, 2

    cltGauge          = coolant,       "Coolant Temp",       "TEMP", -40,   215,    -15,     0,   95,  105, 0, 0
    iatGauge          = iat,           "Inlet Air Temp",     "TEMP", -40,   215,    -15,     0,   95,  100, 0, 0

    gaugeCategory = "System Data"
    clockGauge        = secl,          "Clock",              "Seconds", 0,   255,     10,    10,  245,  245, 0, 0
    loopGauge         = loopsPerSecond,"Main loop speed",    "Loops/S" , 0,  70000,    -1,    500,1800, 4000, 0, 0
    memoryGauge       = freeRAM,       "Free memory",        "bytes" ,   0,  8000,     -1,    1000,8000, 1000, 0, 0
    reqFuelGauge      = req_fuel,       "Req. Fuel",          "ms",      0,  35.0,    1.0,   1.2,   20,   25, 2, 2
    injOpenGauge      = inj_open,       "Injector Open Time", "ms",      0,  35.0,    1.0,   1.2,   20,   25, 1, 1
    mapMultiplyGauge  = map_multiply_amt, "MAP Multiply",     "%",       0,   200,    130,   140,  140,  150, 0, 0
    nSquirtsGauge     = nSquirts,       "# Squirts",          "",        0,    10,    130,   140,  140,  150, 0, 0
;-------------------------------------------------------------------------------

[FrontPage]


   ; Gauges are numbered left to right, top to bottom.
   ;
   ;    1  2  3  4
   ;    5  6  7  8

   gauge1 = tachometer
   gauge2 = throttleGauge
   gauge3 = pulseWidthGauge
   gauge4 = dutyCycleGauge
   gauge5 = mapGauge
   gauge6 = iatGauge
   gauge7 = cltGauge
   gauge8 = gammaEnrichGauge

   ;----------------------------------------------------------------------------
   ; Indicators
   ;             expr                   off-label       on-label,       off-bg, off-fg, on-bg,  on-fg
   indicator = { running            }, "Not Running",   "Running"       white, black, green,    black
   indicator = { crank              }, "Not Cranking",  "Cranking",     white, black, green,    black
   indicator = { ase                }, "ASE OFF",       "ASE ON",       white, black, green,    black
   indicator = { warmup             }, "WUE OFF",       "WUE ON",       white, black, green,    black
   indicator = { tpsaccaen          }, "Accel",         "Accel",        white, black, green,    black
   indicator = { tpsaccden          }, "Decel",         "Decel",        white, black, green,    black
   indicator = { mapaccaen          }, "MAP Accel",     "MAP Accel",    white, black, green,    black
   indicator = { mapaccden          }, "MAP Decel",     "MAP Decel",    white, black, green,    black
   indicator = { error              }, "No Errors",     "ERROR",        white, black, green,    black
   indicator = { (tps > tpsflood) && (rpm < crankRPM) }, "FLOOD OFF", "FLOOD CLEAR",      white, black, red,   black
   indicator = { DFCOOn             }, "DFCO OFF",      "DFCO On",      white, black, red,      black
   indicator = { launchHard         }, "Launch Hard",   "Launch Hard",  white, black, green,    black
   indicator = { launchSoft         }, "Launch Soft",   "Launch Soft",  white, black, green,    black
   indicator = { softlimitOn        }, "Soft Limit OFF","Soft Limiter", white, black, red,      black
   indicator = { hardLimitOn        }, "Hard Limit OFF","Hard Limiter", white, black, red,      black
   indicator = { boostCutOut        }, "Ign Cut OFF",   "Ign Cut (Boost)",    white, black, red,      black
   indicator = { sync               }, "No Sync",       "Sync",         white, black, green,    black
   indicator = { resetLockOn        }, "Reset Lock OFF","Reset Lock ON",     red, black, green,    black
   indicator = { bootloaderCaps > 0 }, "Std. Boot",     "Custom Boot",  white, black, white,    black
   indicator = { nitrousOn          }, "Nitrous Off",   "Nitrous On",   white, black, red,      black

;-------------------------------------------------------------------------------

[OutputChannels]
   ; The number of bytes MegaTune or TunerStudio should expect as a result
   ; of sending the "A" command to Speeduino is determined
   ; by the value of ochBlockSize, so be very careful when
   ; you change it.

   ochGetCommand    = "r\$tsCanId\x30%2o%2c"
   ochBlockSize     =  91

   secl             = scalar, U08,  0, "sec",    1.000, 0.000
   status1          = scalar, U08,  1, "bits",   1.000, 0.000
    inj1Status       = bits,    U08,    1, [0:0]
    inj2Status       = bits,    U08,    1, [1:1]
    inj3Status       = bits,    U08,    1, [2:2]
    inj4Status       = bits,    U08,    1, [3:3]
    DFCOOn           = bits,    U08,    1, [4:4]
    boostCutFuel     = bits,    U08,    1, [5:5]
    toothLog1Ready   = bits,    U08,    1, [6:6]
    toothLog2Ready   = bits,    U08,    1, [7:7]
   engine           = scalar, U08,  2, "bits",   1.000, 0.000
    running          = bits,    U08,    2, [0:0]
    crank            = bits,    U08,    2, [1:1]
    ase              = bits,    U08,    2, [2:2]
    warmup           = bits,    U08,    2, [3:3]
    tpsaccaen        = bits,    U08,    2, [4:4]
    tpsaccden        = bits,    U08,    2, [5:5]
    mapaccaen        = bits,    U08,    2, [6:6]
    mapaccden        = bits,    U08,    2, [7:7]
   syncLossCounter   = scalar,  U08,      3, "",       1.000, 0.000
   map              = scalar,   U16,      4, "kpa",    1.000, 0.000
   iatRaw           = scalar,   U08,      6, "C",     1.000, 0.000
   coolantRaw       = scalar,   U08,      7, "C",     1.000, 0.000
   batCorrection    = scalar,   U08,      8, "%",      1.000, 0.000
   batteryVoltage   = scalar,   U08,      9, "V",      0.100, 0.000
   afr              = scalar,   U08,      10, "O2",     0.100, 0.000
   egoCorrection    = scalar,   U08,      11, "%",      1.000, 0.000
   airCorrection    = scalar,   U08,      12, "%",      1.000, 0.000
   warmupEnrich     = scalar,   U08,      13, "%",      1.000, 0.000
   rpm              = scalar,   U16,      14, "rpm",    1.000, 0.000
   accelEnrich      = scalar,   U08,      16, "%",      2.000, 0.000
   gammaEnrich      = scalar,   U08,      17, "%",      1.000, 0.000
   veCurr           = scalar,   U08,      18, "%",      1.000, 0.000
   afrTarget        = scalar,   U08,      19, "O2",     0.100, 0.000
   pulseWidth       = scalar,   U16,      20, "ms",     0.001, 0.000
   TPSdot           = scalar,   U08,      22, "%/s",    10.00, 0.000
   advance          = scalar,   S08,      23, "deg",    1.000, 0.000
   tps              = scalar,   U08,      24, "%",      1.000, 0.000
   loopsPerSecond   = scalar,   U16,      25, "loops",  1.000, 0.000
   freeRAM          = scalar,   U16,      27, "bytes",  1.000, 0.000
   boostTarget      = scalar,   U08,      29, "kPa",    2.000, 0.000
   boostDuty        = scalar,   U08,      30, "%",      1.000, 0.000
   status2          = scalar,   U08,      31, "bits",   1.000, 0.000
    launchHard       = bits,    U08,    31, [0:0]
    launchSoft       = bits,    U08,    31, [1:1]
    hardLimitOn      = bits,    U08,    31, [2:2]
    softlimitOn      = bits,    U08,    31, [3:3]
    boostCutSpark    = bits,    U08,    31, [4:4]
    error            = bits,    U08,    31, [5:5]
    idleControlOn    = bits,    U08,    31, [6:6]
    sync             = bits,    U08,    31, [7:7]
   rpmDOT           = scalar,   S16,    32, "rpm/s",  1.000, 0.000
   flex             = scalar,   U08,    34, "%",      1.000, 0.000
   flexFuelCor      = scalar,   U08,    35, "%",      1.000, 0.000
   flexIgnCor       = scalar,   U08,    36, "deg",    1.000, 0.000

   idleLoad         = scalar,   U08,    37, { bitStringValue( idleUnits , iacAlgorithm  ) },    2.000, 0.000 ; This is a combined variable covering both PWM and stepper IACs. The units used depend on which idle algorithm is chosen
   testoutputs      = scalar,   U08,    38, "bits",   1.000, 0.000
   testenabled       = bits,    U08,	  38, [0:0]
   testactive        = bits,    U08,	  38, [1:1]
   afr2             = scalar,   U08,    39, "O2",     0.100, 0.000
   baro             = scalar,   U08,    40, "kpa",      1.000, 0.000
   auxin_gauge0	    = scalar,   U16,	41,	"",		1.000, 0.000
   auxin_gauge1	    = scalar,   U16,	43,	"",		1.000, 0.000
   auxin_gauge2	    = scalar,   U16,	45,	"",		1.000, 0.000
   auxin_gauge3	    = scalar,   U16,	47,	"",		1.000, 0.000
   auxin_gauge4	    = scalar,   U16,	49,	"",		1.000, 0.000
   auxin_gauge5	    = scalar,   U16,	51,	"",		1.000, 0.000
   auxin_gauge6	    = scalar,   U16,	53,	"",		1.000, 0.000
   auxin_gauge7	    = scalar,   U16,	55,	"",		1.000, 0.000
   auxin_gauge8	    = scalar,   U16,	57,	"",		1.000, 0.000
   auxin_gauge9 	= scalar,   U16,	59,	"",		1.000, 0.000
   auxin_gauge10    = scalar,   U16,	61,	"",		1.000, 0.000
   auxin_gauge11    = scalar,   U16,	63,	"",		1.000, 0.000
   auxin_gauge12    = scalar,   U16,	65,	"",		1.000, 0.000
   auxin_gauge13    = scalar,   U16,	67,	"",		1.000, 0.000
   auxin_gauge14    = scalar,   U16,	69,	"",		1.000, 0.000
   auxin_gauge15    = scalar,   U16,	71,	"",		1.000, 0.000
   tpsADC           = scalar,   U08,  73, "ADC",1.000, 0.000
   errors           = scalar,   U08,  74, "bits",   1.000, 0.000
    errorNum        = bits,     U08,    74, [0:1]
    currentError    = bits,     U08,    74, [2:7]
   pulseWidth2      = scalar,   U16,      75, "ms",     0.001, 0.000
   pulseWidth3      = scalar,   U16,      77, "ms",     0.001, 0.000
   pulseWidth4      = scalar,   U16,      79, "ms",     0.001, 0.000
   status3          = scalar,   U08,      81, "bits", 1.000, 0.000
    resetLockOn      = bits,     U08,       81, [0:0]
    nitrousOn        = bits,     U08,       81, [1:1]
    unused81_2-4     = bits,     U08,       81, [2:4]
    nSquirts         = bits,     U08,       81, [5:7]
   flexBoostCor     = scalar,   S16,     82, "kPa",  1.000, 0.000
   nChannels        = scalar,   U08,     84, "bits",   1.000, 0.000
     nIgnChannels     = bits,   U08,      84, [0:3]
     nFuelChannels    = bits,   U08,      84, [4:7]
   fuelLoad          = scalar,  S16,    85, { bitStringValue( algorithmUnits , algorithm  ) }, 1.000, 0.000
   ignLoad           = scalar,  S16,    87, { bitStringValue( algorithmUnits , ignAlgorithm  ) }, 1.000, 0.000
   dwell	        = scalar,   U16,    89, "ms",     0.001, 0.000
   
   coolant          = { coolantRaw - 40                               } ; Temperature readings are offset by 40 to allow for negatives
   iat              = { iatRaw - 40                                   } ; Temperature readings are offset by 40 to allow for negatives

   time             = { timeNow                                       }
   seconds          = { secl                                          }

   throttle         = { tps }, "%"

   cycleTime        = { rpm ? ( 60000.0 / rpm ) : 0                   }
   cycleMultiplier  = { injLayout == 3 ? 2 : 1                        }
   strokeMultipler  = { twoStroke == 1 ? 2 : 1                        }
   dutyCycle        = { rpm ? ( 100.0*pulseWidth/(cycleTime * cycleMultiplier) * strokeMultipler ) : 0      }
   stgDutyCycle     = { rpm && stagingEnabled ? ( 100.0*pulseWidth3/(cycleTime * cycleMultiplier) * strokeMultipler ) : 0      }

   boostCutOut      = { boostCutFuel || boostCutSpark }
   lambda           = { afr / stoich }
   MAPxRPM          = { rpm * map }
   loopsPerRev      = { loopsPerSecond / (rpm / 60) }
   req_fuel         = { reqFuel }
   inj_open         = { injOpen }
   ase_enrich       = { ase ? (100 + asePct ) : 100 } ; If ASE is active then equal the ASE + 100
   map_multiply_amt = { multiplyMAP ? map : 100 } ; If multiply MAP is enabled, use the current MAP value, otherwise 100%
   ;nSquirts         = { nCylinders / divider }

   ;Manifold pressure in weirdo units
   map_bar      = { (map - baro) / 101.33 }
   map_psi      = { (map - baro) * 0.145038 }
   map_inhg     = { (baro - map) * 0.2953007 } ;in-Hg
   map_vacboost = { map < baro ? -map_inhg : map_psi }

   ;fuelLoadMax = { arrayValue(algorithmLimits , algorithm) } ;Doesn't work, no idea why.
   fuelLoadMax  = { (algorithm == 0 || algorithm == 2) ? 511 : 100 }
   ignLoadMax  = { (ignAlgorithm == 0 || ignAlgorithm == 2) ? 511 : 100 }

   boostTableLimit = { boostType == 0 ? 100 : 511 } ;The maximum value allowed in the boost table. 100 is used for duty cycle, 511 for kpa

;-------------------------------------------------------------------------------

[Datalog]
   ; Full datalog.
   ;
   ; Default user-defined log emulates the full datalog.
   ;
   ; The entries are saved in the datalog file in the order in
   ; which they appear in the list below.
   ;
   ;   Channel - Case sensitive name of output channel to be logged.
   ;   Label   - String written to header line of log.  Be careful
   ;             about changing these, as programs like MSLVV and
   ;             MSTweak key off specific column names.
   ;   Type    - Data type of output, converted before writing.
   ;   Format  - C-style output format of data.
   ;
   ;       Channel          Label           Type    Format
   ;       --------------   ----------      -----   ------
   entry = time,            "Time",         float,  "%.3f"
   entry = secl,            "SecL",         int,    "%d"
   entry = rpm,             "RPM",          int,    "%d"
   entry = map,             "MAP",          int,    "%d"
   entry = MAPxRPM,         "MAPxRPM",      int,    "%d"
   entry = tps,             "TPS",          int,    "%d"
   entry = afr,             "O2",           float,  "%.3f"
   entry = lambda,          "Lambda",       float,  "%.3f"
   entry = iat,             "IAT",          int,    "%d"
   entry = coolant,         "CLT",          int,    "%d"
   entry = engine,          "Engine",       int,    "%d"
   entry = DFCOOn,          "DFCO",         int,    "%d"
   entry = egoCorrection,   "Gego",         int,    "%d"
   entry = airCorrection,   "Gair",         int,    "%d"
   entry = batCorrection,   "Gbattery",     int,    "%d"
   entry = warmupEnrich,    "Gwarm",        int,    "%d"
   entry = gammaEnrich,     "Gammae",       int,     "%d"
   entry = accelEnrich,     "Accel Enrich", int,     "%d"
   entry = veCurr,          "VE",           int,     "%d"
   entry = pulseWidth,      "PW",           float,   "%.1f"
   entry = afrTarget,       "AFR Target",   float,   "%.3f"
   entry = pulseWidth,      "PW2",          float,   "%.1f"
   entry = dutyCycle,       "DutyCycle1",   float,   "%.1f"
   entry = dutyCycle,       "DutyCycle2",   float,   "%.1f"
   entry = TPSdot,          "TPS DOT",      int,     "%d"
   entry = advance,         "Advance",      int,     "%d"
   entry = dwell,           "Dwell",        float,   "%.1f"
   entry = batteryVoltage,  "Battery V",    float,   "%.1f"
   entry = rpmDOT,          "rpm/s",        int,     "%d"
   entry = errorNum,        "Error #",      int,     "%d"
   entry = currentError,    "Error ID",     int,     "%d"
   entry = map_psi,         "Boost PSI",    float,   "%.1f"
   entry = boostTarget,     "Boost Target", int,     "%d",       { boostEnabled }
   entry = boostDuty,       "Boost Duty",   int,     "%d",       { boostEnabled }
   entry = boostCutOut ,    "Boost cut",    int,     "%d"
   entry = launchHard ,     "Launch Hard",  int,     "%d"
   entry = hardLimitOn ,    "Hard Limiter", int,     "%d"
   entry = idleLoad,        "IAC value",    int,     "%d"
   entry = baro,            "Baro Pressure",int,     "%d"
   entry = syncLossCounter, "Sync Loss #",  int,     "%d"


[LoggerDefinition]
    ; valid logger types: composite, tooth, trigger, csv

    ;loggerDef = uniqueName, Display Name, type
    loggerDef = tooth, "Tooth Logger", tooth
       ;dataReadCommand = "r\\x00\\xf4\\x00\\x00\\x04\\x00" ; standard TS command format
       startCommand = "H"
       stopCommand = "h"
       dataReadCommand = "T" ; Basic TS command format
       dataReadTimeout = 5000 ; time in ms
       dataReadyCondition = { toothLog1Ready == 1 }
       ;dataLength = 256 ; in bytes, including headers, footers and data (not used)
       ;dataLength = 128 ; in bytes, including headers, footers and data (not used)

       ;recordDef = headerLen. footerLen, recordLen
       recordDef =   0,   0,   4; in bytes, the recordLen is for each record, currently limited to 4 bytes

       ;recordField = Name,          HeaderName,      startBit,   bitCount,   scale,  units, updateCondition
       recordField = toothTime,         "ToothTime",     0,          32,       1.0,    "uS"

    loggerDef = compositeLogger, "Composite Logger", composite
        startCommand = "J"
        stopCommand = "j"
        dataReadCommand = "T" ; Basic TS command format. Note that this is shared with the composite logger. Firmware detects which log is currently running
        dataReadTimeout = 5000 ; time in ms
        dataReadyCondition = { toothLog1Ready == 1 }
        ;dataLength = 256 ; in bytes, including headers, footers and data (not used)
        ;dataLength = 320 ; in bytes, including headers, footers and data (not used)

        ;recordDef = headerLen. footerLen, recordLen
        recordDef =   0,   0,   5; in bytes, the recordLen is for each record, currently limited to 4 bytes

        ;recordField = Name,          HeaderName,      startBit,   bitCount,   scale,  units, updateCondition
        recordField = priLevel,          "PriLevel",     0,          1,          1.0,    "Flag"
        recordField = secLevel,          "SecLevel",     1,          1,          1.0,    "Flag"
        recordField = trigger,           "Trigger",      2,          1,          1.0,    "Flag"
        recordField = sync,              "Sync",         3,          1,          1.0,    "Flag"
        recordField = refTime,           "RefTime",      8,          32,         0.001,  "ms"

        ; hidden calcField serves as intermediate variable
        calcField = maxTime,               "MaxTime",   "ms",  { maxValue(refTime) }

        calcField = toothTime,           "ToothTime",    "ms",       { refTime - pastValue(refTime, 1) }
        ;recordField = time,                "Time",       24,         16,         1.0,    "ms"
        calcField = time,                "Time",   "ms",  { refTime }


[Tools]
	;addTool = toolName, PanelName
	addTool = veTableGenerator, "VE Table Generator", veTable1Tbl
	addTool = afrTableGenerator, "AFR Table Generator", afrTable1Tbl


[VeAnalyze]
	         ;    tableName,  lambdaTargetTableName, lambdaChannel, egoCorrectionChannel, activeCondition
     veAnalyzeMap = veTable1Tbl, afrTable1Tbl, afr, egoCorrection
     lambdaTargetTables = afrTable1Tbl, afrTSCustom,
         filter = std_xAxisMin ; Auto build with appropriate axis channels
         ;filter = minRPMFilter, "Minimum RPM", rpm,           <       , 500,      , true
         filter = std_xAxisMax ; Auto build with appropriate axis channels
         filter = std_yAxisMin ; Auto build with appropriate axis channels
         filter = std_yAxisMax ; Auto build with appropriate axis channels
         filter = std_DeadLambda ; Auto build

         filter = minCltFilter, "Minimum CLT", coolant,       <       , 71,       , true
         filter = accelFilter, "Accel Flag" , engine,         &       , 16,       , false
         filter = aseFilter,   "ASE Flag"   , engine,         &       , 4,        , false
         filter = overrunFilter, "Overrun"    , pulseWidth,  =       , 0,        , false
         filter = std_Custom ; Standard Custom Expression Filter.

;------------- WUE VEAL not currently working ----------------
;[WueAnalyze]
        ;    tableName,  lambdaTargetTableName, lambdaChannel, egoCorrectionChannel, activeCondition
        ; wueAnalyzeMap = veTable1Tbl, afrTable1Tbl, afr, egoCorrection
;        wueAnalyzeMap = afrTable1Tbl, warmup_afr_curve, warmup_curve, afr, coolant, warmupEnrich ;warmup_afr_curve,
;             lambdaTargetTables = afrTable1Tbl, afrTSCustom,
                 ;filter = std_xAxisMin ; Auto build with appropriate axis channels
                 ;filter = minRPMFilter, "Minimum RPM", rpm,           <       , 500,      , true
                 ;filter = std_xAxisMax ; Auto build with appropriate axis channels
                 ;filter = std_yAxisMin ; Auto build with appropriate axis channels
                 ;filter = std_yAxisMax ; Auto build with appropriate axis channels
                 ;filter = std_DeadLambda ; Auto build

;                 filter = maxTPSFilter, "High Throttle", tps,       <       , 15,       , true
;------------- WUE VEAL not currently working ----------------
